(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pd={exports:{}},zs={},Dd={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=Symbol.for("react.element"),Em=Symbol.for("react.portal"),Cm=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),Pm=Symbol.for("react.memo"),Dm=Symbol.for("react.lazy"),Ra=Symbol.iterator;function Am(t){return t===null||typeof t!="object"?null:(t=Ra&&t[Ra]||t["@@iterator"],typeof t=="function"?t:null)}var Ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Od=Object.assign,Md={};function ir(t,e,n){this.props=t,this.context=e,this.refs=Md,this.updater=n||Ad}ir.prototype.isReactComponent={};ir.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ir.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ld(){}Ld.prototype=ir.prototype;function ou(t,e,n){this.props=t,this.context=e,this.refs=Md,this.updater=n||Ad}var lu=ou.prototype=new Ld;lu.constructor=ou;Od(lu,ir.prototype);lu.isPureReactComponent=!0;var xa=Array.isArray,Fd=Object.prototype.hasOwnProperty,uu={current:null},zd={key:!0,ref:!0,__self:!0,__source:!0};function Ud(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fd.call(e,r)&&!zd.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ci,type:t,key:s,ref:o,props:i,_owner:uu.current}}function Om(t,e){return{$$typeof:ci,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function au(t){return typeof t=="object"&&t!==null&&t.$$typeof===ci}function Mm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pa=/\/+/g;function co(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mm(""+t.key):e.toString(36)}function Hi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ci:case Em:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+co(o,0):r,xa(i)?(n="",t!=null&&(n=t.replace(Pa,"$&/")+"/"),Hi(i,e,n,"",function(a){return a})):i!=null&&(au(i)&&(i=Om(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Pa,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xa(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+co(s,l);o+=Hi(s,e,n,u,i)}else if(u=Am(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+co(s,l++),o+=Hi(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ci(t,e,n){if(t==null)return t;var r=[],i=0;return Hi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Lm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},$i={transition:null},Fm={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:$i,ReactCurrentOwner:uu};function Bd(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Ci,forEach:function(t,e,n){Ci(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ci(t,function(){e++}),e},toArray:function(t){return Ci(t,function(e){return e})||[]},only:function(t){if(!au(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=ir;D.Fragment=Cm;D.Profiler=Tm;D.PureComponent=ou;D.StrictMode=km;D.Suspense=xm;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm;D.act=Bd;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Od({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Fd.call(e,u)&&!zd.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:ci,type:t.type,key:i,ref:s,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:Nm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Im,_context:t},t.Consumer=t};D.createElement=Ud;D.createFactory=function(t){var e=Ud.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Rm,render:t}};D.isValidElement=au;D.lazy=function(t){return{$$typeof:Dm,_payload:{_status:-1,_result:t},_init:Lm}};D.memo=function(t,e){return{$$typeof:Pm,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=$i.transition;$i.transition={};try{t()}finally{$i.transition=e}};D.unstable_act=Bd;D.useCallback=function(t,e){return Te.current.useCallback(t,e)};D.useContext=function(t){return Te.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};D.useEffect=function(t,e){return Te.current.useEffect(t,e)};D.useId=function(){return Te.current.useId()};D.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return Te.current.useMemo(t,e)};D.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};D.useRef=function(t){return Te.current.useRef(t)};D.useState=function(t){return Te.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return Te.current.useTransition()};D.version="18.3.1";Dd.exports=D;var Un=Dd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=Un,Um=Symbol.for("react.element"),Bm=Symbol.for("react.fragment"),Wm=Object.prototype.hasOwnProperty,jm=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hm={key:!0,ref:!0,__self:!0,__source:!0};function Wd(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wm.call(e,r)&&!Hm.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Um,type:t,key:s,ref:o,props:i,_owner:jm.current}}zs.Fragment=Bm;zs.jsx=Wd;zs.jsxs=Wd;Pd.exports=zs;var oe=Pd.exports,jd={exports:{}},Ue={},Hd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,R){var x=k.length;k.push(R);e:for(;0<x;){var Z=x-1>>>1,se=k[Z];if(0<i(se,R))k[Z]=R,k[x]=se,x=Z;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var R=k[0],x=k.pop();if(x!==R){k[0]=x;e:for(var Z=0,se=k.length,Si=se>>>1;Z<Si;){var Xt=2*(Z+1)-1,ao=k[Xt],Jt=Xt+1,Ei=k[Jt];if(0>i(ao,x))Jt<se&&0>i(Ei,ao)?(k[Z]=Ei,k[Jt]=x,Z=Jt):(k[Z]=ao,k[Xt]=x,Z=Xt);else if(Jt<se&&0>i(Ei,x))k[Z]=Ei,k[Jt]=x,Z=Jt;else break e}}return R}function i(k,R){var x=k.sortIndex-R.sortIndex;return x!==0?x:k.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],a=[],d=1,c=null,f=3,g=!1,_=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var R=n(a);R!==null;){if(R.callback===null)r(a);else if(R.startTime<=k)r(a),R.sortIndex=R.expirationTime,e(u,R);else break;R=n(a)}}function y(k){if(w=!1,m(k),!_)if(n(u)!==null)_=!0,lo(C);else{var R=n(a);R!==null&&uo(y,R.startTime-k)}}function C(k,R){_=!1,w&&(w=!1,p(N),N=-1),g=!0;var x=f;try{for(m(R),c=n(u);c!==null&&(!(c.expirationTime>R)||k&&!Ke());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var se=Z(c.expirationTime<=R);R=t.unstable_now(),typeof se=="function"?c.callback=se:c===n(u)&&r(u),m(R)}else r(u);c=n(u)}if(c!==null)var Si=!0;else{var Xt=n(a);Xt!==null&&uo(y,Xt.startTime-R),Si=!1}return Si}finally{c=null,f=x,g=!1}}var T=!1,I=null,N=-1,J=5,O=-1;function Ke(){return!(t.unstable_now()-O<J)}function dr(){if(I!==null){var k=t.unstable_now();O=k;var R=!0;try{R=I(!0,k)}finally{R?fr():(T=!1,I=null)}}else T=!1}var fr;if(typeof h=="function")fr=function(){h(dr)};else if(typeof MessageChannel<"u"){var Na=new MessageChannel,Sm=Na.port2;Na.port1.onmessage=dr,fr=function(){Sm.postMessage(null)}}else fr=function(){P(dr,0)};function lo(k){I=k,T||(T=!0,fr())}function uo(k,R){N=P(function(){k(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,lo(C))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var x=f;f=R;try{return k()}finally{f=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,R){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var x=f;f=k;try{return R()}finally{f=x}},t.unstable_scheduleCallback=function(k,R,x){var Z=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?Z+x:Z):x=Z,k){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=x+se,k={id:d++,callback:R,priorityLevel:k,startTime:x,expirationTime:se,sortIndex:-1},x>Z?(k.sortIndex=x,e(a,k),n(u)===null&&k===n(a)&&(w?(p(N),N=-1):w=!0,uo(y,x-Z))):(k.sortIndex=se,e(u,k),_||g||(_=!0,lo(C))),k},t.unstable_shouldYield=Ke,t.unstable_wrapCallback=function(k){var R=f;return function(){var x=f;f=R;try{return k.apply(this,arguments)}finally{f=x}}}})($d);Hd.exports=$d;var $m=Hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Un,ze=$m;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vd=new Set,Hr={};function vn(t,e){Kn(t,e),Kn(t+"Capture",e)}function Kn(t,e){for(Hr[t]=e,t=0;t<e.length;t++)Vd.add(e[t])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=Object.prototype.hasOwnProperty,bm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Da={},Aa={};function Gm(t){return Yo.call(Aa,t)?!0:Yo.call(Da,t)?!1:bm.test(t)?Aa[t]=!0:(Da[t]=!0,!1)}function Qm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Km(t,e,n,r){if(e===null||typeof e>"u"||Qm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function du(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cu,du);ge[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cu,du);ge[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cu,du);ge[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function fu(t,e,n,r){var i=ge.hasOwnProperty(e)?ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Km(e,n,i,r)&&(n=null),r||i===null?Gm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tt=Vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ki=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),hu=Symbol.for("react.strict_mode"),qo=Symbol.for("react.profiler"),bd=Symbol.for("react.provider"),Gd=Symbol.for("react.context"),pu=Symbol.for("react.forward_ref"),Xo=Symbol.for("react.suspense"),Jo=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Qd=Symbol.for("react.offscreen"),Oa=Symbol.iterator;function hr(t){return t===null||typeof t!="object"?null:(t=Oa&&t[Oa]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,fo;function Tr(t){if(fo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fo=e&&e[1]||""}return`
`+fo+t}var ho=!1;function po(t,e){if(!t||ho)return"";ho=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{ho=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tr(t):""}function Ym(t){switch(t.tag){case 5:return Tr(t.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 2:case 15:return t=po(t.type,!1),t;case 11:return t=po(t.type.render,!1),t;case 1:return t=po(t.type,!0),t;default:return""}}function Zo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case In:return"Fragment";case Tn:return"Portal";case qo:return"Profiler";case hu:return"StrictMode";case Xo:return"Suspense";case Jo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gd:return(t.displayName||"Context")+".Consumer";case bd:return(t._context.displayName||"Context")+".Provider";case pu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mu:return e=t.displayName||null,e!==null?e:Zo(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return Zo(t(e))}catch{}}return null}function qm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zo(e);case 8:return e===hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xm(t){var e=Kd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ti(t){t._valueTracker||(t._valueTracker=Xm(t))}function Yd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function el(t,e){var n=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ma(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qd(t,e){e=e.checked,e!=null&&fu(t,"checked",e,!1)}function tl(t,e){qd(t,e);var n=bt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nl(t,e.type,n):e.hasOwnProperty("defaultValue")&&nl(t,e.type,bt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function La(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nl(t,e,n){(e!=="number"||ts(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ir=Array.isArray;function Bn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(v(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(v(92));if(Ir(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bt(n)}}function Xd(t,e){var n=bt(e.value),r=bt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function za(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ii,Zd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ii.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $r(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jm=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(t){Jm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xr[e]=xr[t]})});function ef(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xr.hasOwnProperty(t)&&xr[t]?(""+e).trim():e+"px"}function tf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ef(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Zm=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sl(t,e){if(e){if(Zm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(v(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(v(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61))}if(e.style!=null&&typeof e.style!="object")throw Error(v(62))}}function ol(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ul=null,Wn=null,jn=null;function Ua(t){if(t=hi(t)){if(typeof ul!="function")throw Error(v(280));var e=t.stateNode;e&&(e=Hs(e),ul(t.stateNode,t.type,e))}}function nf(t){Wn?jn?jn.push(t):jn=[t]:Wn=t}function rf(){if(Wn){var t=Wn,e=jn;if(jn=Wn=null,Ua(t),e)for(t=0;t<e.length;t++)Ua(e[t])}}function sf(t,e){return t(e)}function of(){}var mo=!1;function lf(t,e,n){if(mo)return t(e,n);mo=!0;try{return sf(t,e,n)}finally{mo=!1,(Wn!==null||jn!==null)&&(of(),rf())}}function Vr(t,e){var n=t.stateNode;if(n===null)return null;var r=Hs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(v(231,e,typeof n));return n}var al=!1;if(yt)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){al=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{al=!1}function eg(t,e,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(d){this.onError(d)}}var Pr=!1,ns=null,rs=!1,cl=null,tg={onError:function(t){Pr=!0,ns=t}};function ng(t,e,n,r,i,s,o,l,u){Pr=!1,ns=null,eg.apply(tg,arguments)}function rg(t,e,n,r,i,s,o,l,u){if(ng.apply(this,arguments),Pr){if(Pr){var a=ns;Pr=!1,ns=null}else throw Error(v(198));rs||(rs=!0,cl=a)}}function wn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ba(t){if(wn(t)!==t)throw Error(v(188))}function ig(t){var e=t.alternate;if(!e){if(e=wn(t),e===null)throw Error(v(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ba(i),t;if(s===r)return Ba(i),e;s=s.sibling}throw Error(v(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(v(189))}}if(n.alternate!==r)throw Error(v(190))}if(n.tag!==3)throw Error(v(188));return n.stateNode.current===n?t:e}function af(t){return t=ig(t),t!==null?cf(t):null}function cf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cf(t);if(e!==null)return e;t=t.sibling}return null}var df=ze.unstable_scheduleCallback,Wa=ze.unstable_cancelCallback,sg=ze.unstable_shouldYield,og=ze.unstable_requestPaint,ee=ze.unstable_now,lg=ze.unstable_getCurrentPriorityLevel,_u=ze.unstable_ImmediatePriority,ff=ze.unstable_UserBlockingPriority,is=ze.unstable_NormalPriority,ug=ze.unstable_LowPriority,hf=ze.unstable_IdlePriority,Us=null,at=null;function ag(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Us,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:fg,cg=Math.log,dg=Math.LN2;function fg(t){return t>>>=0,t===0?32:31-(cg(t)/dg|0)|0}var Ni=64,Ri=4194304;function Nr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ss(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Nr(l):(s&=o,s!==0&&(r=Nr(s)))}else o=n&~i,o!==0?r=Nr(o):s!==0&&(r=Nr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tt(e),i=1<<n,r|=t[n],e&=~i;return r}function hg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tt(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=hg(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function dl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pf(){var t=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),t}function go(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function di(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function mg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var U=0;function mf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gf,vu,_f,yf,vf,fl=!1,xi=[],Mt=null,Lt=null,Ft=null,br=new Map,Gr=new Map,Pt=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":br.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(e.pointerId)}}function mr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hi(e),e!==null&&vu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _g(t,e,n,r,i){switch(e){case"focusin":return Mt=mr(Mt,t,e,n,r,i),!0;case"dragenter":return Lt=mr(Lt,t,e,n,r,i),!0;case"mouseover":return Ft=mr(Ft,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return br.set(s,mr(br.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gr.set(s,mr(Gr.get(s)||null,t,e,n,r,i)),!0}return!1}function wf(t){var e=rn(t.target);if(e!==null){var n=wn(e);if(n!==null){if(e=n.tag,e===13){if(e=uf(n),e!==null){t.blockedOn=e,vf(t.priority,function(){_f(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ll=r,n.target.dispatchEvent(r),ll=null}else return e=hi(n),e!==null&&vu(e),t.blockedOn=n,!1;e.shift()}return!0}function Ha(t,e,n){Vi(t)&&n.delete(e)}function yg(){fl=!1,Mt!==null&&Vi(Mt)&&(Mt=null),Lt!==null&&Vi(Lt)&&(Lt=null),Ft!==null&&Vi(Ft)&&(Ft=null),br.forEach(Ha),Gr.forEach(Ha)}function gr(t,e){t.blockedOn===e&&(t.blockedOn=null,fl||(fl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,yg)))}function Qr(t){function e(i){return gr(i,t)}if(0<xi.length){gr(xi[0],t);for(var n=1;n<xi.length;n++){var r=xi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&gr(Mt,t),Lt!==null&&gr(Lt,t),Ft!==null&&gr(Ft,t),br.forEach(e),Gr.forEach(e),n=0;n<Pt.length;n++)r=Pt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)wf(n),n.blockedOn===null&&Pt.shift()}var Hn=Tt.ReactCurrentBatchConfig,os=!0;function vg(t,e,n,r){var i=U,s=Hn.transition;Hn.transition=null;try{U=1,wu(t,e,n,r)}finally{U=i,Hn.transition=s}}function wg(t,e,n,r){var i=U,s=Hn.transition;Hn.transition=null;try{U=4,wu(t,e,n,r)}finally{U=i,Hn.transition=s}}function wu(t,e,n,r){if(os){var i=hl(t,e,n,r);if(i===null)Io(t,e,r,ls,n),ja(t,r);else if(_g(i,t,e,n,r))r.stopPropagation();else if(ja(t,r),e&4&&-1<gg.indexOf(t)){for(;i!==null;){var s=hi(i);if(s!==null&&gf(s),s=hl(t,e,n,r),s===null&&Io(t,e,r,ls,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Io(t,e,r,null,n)}}var ls=null;function hl(t,e,n,r){if(ls=null,t=gu(r),t=rn(t),t!==null)if(e=wn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ls=t,null}function Sf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lg()){case _u:return 1;case ff:return 4;case is:case ug:return 16;case hf:return 536870912;default:return 16}default:return 16}}var At=null,Su=null,bi=null;function Ef(){if(bi)return bi;var t,e=Su,n=e.length,r,i="value"in At?At.value:At.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bi=i.slice(t,1<r?1-r:void 0)}function Gi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function $a(){return!1}function Be(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pi:$a,this.isPropagationStopped=$a,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=Be(sr),fi=q({},sr,{view:0,detail:0}),Sg=Be(fi),_o,yo,_r,Bs=q({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(_o=t.screenX-_r.screenX,yo=t.screenY-_r.screenY):yo=_o=0,_r=t),_o)},movementY:function(t){return"movementY"in t?t.movementY:yo}}),Va=Be(Bs),Eg=q({},Bs,{dataTransfer:0}),Cg=Be(Eg),kg=q({},fi,{relatedTarget:0}),vo=Be(kg),Tg=q({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=Be(Tg),Ng=q({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rg=Be(Ng),xg=q({},sr,{data:0}),ba=Be(xg),Pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ag[t])?!!e[t]:!1}function Cu(){return Og}var Mg=q({},fi,{key:function(t){if(t.key){var e=Pg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(t){return t.type==="keypress"?Gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lg=Be(Mg),Fg=q({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ga=Be(Fg),zg=q({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),Ug=Be(zg),Bg=q({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wg=Be(Bg),jg=q({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hg=Be(jg),$g=[9,13,27,32],ku=yt&&"CompositionEvent"in window,Dr=null;yt&&"documentMode"in document&&(Dr=document.documentMode);var Vg=yt&&"TextEvent"in window&&!Dr,Cf=yt&&(!ku||Dr&&8<Dr&&11>=Dr),Qa=" ",Ka=!1;function kf(t,e){switch(t){case"keyup":return $g.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nn=!1;function bg(t,e){switch(t){case"compositionend":return Tf(e);case"keypress":return e.which!==32?null:(Ka=!0,Qa);case"textInput":return t=e.data,t===Qa&&Ka?null:t;default:return null}}function Gg(t,e){if(Nn)return t==="compositionend"||!ku&&kf(t,e)?(t=Ef(),bi=Su=At=null,Nn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cf&&e.locale!=="ko"?null:e.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qg[t.type]:e==="textarea"}function If(t,e,n,r){nf(r),e=us(e,"onChange"),0<e.length&&(n=new Eu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ar=null,Kr=null;function Kg(t){zf(t,0)}function Ws(t){var e=Pn(t);if(Yd(e))return t}function Yg(t,e){if(t==="change")return e}var Nf=!1;if(yt){var wo;if(yt){var So="oninput"in document;if(!So){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),So=typeof qa.oninput=="function"}wo=So}else wo=!1;Nf=wo&&(!document.documentMode||9<document.documentMode)}function Xa(){Ar&&(Ar.detachEvent("onpropertychange",Rf),Kr=Ar=null)}function Rf(t){if(t.propertyName==="value"&&Ws(Kr)){var e=[];If(e,Kr,t,gu(t)),lf(Kg,e)}}function qg(t,e,n){t==="focusin"?(Xa(),Ar=e,Kr=n,Ar.attachEvent("onpropertychange",Rf)):t==="focusout"&&Xa()}function Xg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ws(Kr)}function Jg(t,e){if(t==="click")return Ws(e)}function Zg(t,e){if(t==="input"||t==="change")return Ws(e)}function e_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:e_;function Yr(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yo.call(e,i)||!it(t[i],e[i]))return!1}return!0}function Ja(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Za(t,e){var n=Ja(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ja(n)}}function xf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pf(){for(var t=window,e=ts();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ts(t.document)}return e}function Tu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t_(t){var e=Pf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xf(n.ownerDocument.documentElement,n)){if(r!==null&&Tu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Za(n,s);var o=Za(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var n_=yt&&"documentMode"in document&&11>=document.documentMode,Rn=null,pl=null,Or=null,ml=!1;function ec(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ml||Rn==null||Rn!==ts(r)||(r=Rn,"selectionStart"in r&&Tu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&Yr(Or,r)||(Or=r,r=us(pl,"onSelect"),0<r.length&&(e=new Eu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rn)))}function Di(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xn={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},Eo={},Df={};yt&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function js(t){if(Eo[t])return Eo[t];if(!xn[t])return t;var e=xn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Df)return Eo[t]=e[n];return t}var Af=js("animationend"),Of=js("animationiteration"),Mf=js("animationstart"),Lf=js("transitionend"),Ff=new Map,tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){Ff.set(t,e),vn(e,[t])}for(var Co=0;Co<tc.length;Co++){var ko=tc[Co],r_=ko.toLowerCase(),i_=ko[0].toUpperCase()+ko.slice(1);Kt(r_,"on"+i_)}Kt(Af,"onAnimationEnd");Kt(Of,"onAnimationIteration");Kt(Mf,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(Lf,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function nc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rg(r,e,void 0,t),t.currentTarget=null}function zf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;nc(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;nc(i,l,a),s=u}}}if(rs)throw t=cl,rs=!1,cl=null,t}function H(t,e){var n=e[wl];n===void 0&&(n=e[wl]=new Set);var r=t+"__bubble";n.has(r)||(Uf(e,t,2,!1),n.add(r))}function To(t,e,n){var r=0;e&&(r|=4),Uf(n,t,r,e)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function qr(t){if(!t[Ai]){t[Ai]=!0,Vd.forEach(function(n){n!=="selectionchange"&&(s_.has(n)||To(n,!1,t),To(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ai]||(e[Ai]=!0,To("selectionchange",!1,e))}}function Uf(t,e,n,r){switch(Sf(e)){case 1:var i=vg;break;case 4:i=wg;break;default:i=wu}n=i.bind(null,e,n,t),i=void 0,!al||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Io(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rn(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}lf(function(){var a=s,d=gu(n),c=[];e:{var f=Ff.get(t);if(f!==void 0){var g=Eu,_=t;switch(t){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":g=Lg;break;case"focusin":_="focus",g=vo;break;case"focusout":_="blur",g=vo;break;case"beforeblur":case"afterblur":g=vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ug;break;case Af:case Of:case Mf:g=Ig;break;case Lf:g=Wg;break;case"scroll":g=Sg;break;case"wheel":g=Hg;break;case"copy":case"cut":case"paste":g=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ga}var w=(e&4)!==0,P=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=a,m;h!==null;){m=h;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=Vr(h,p),y!=null&&w.push(Xr(h,y,m)))),P)break;h=h.return}0<w.length&&(f=new g(f,_,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==ll&&(_=n.relatedTarget||n.fromElement)&&(rn(_)||_[vt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=a,_=_?rn(_):null,_!==null&&(P=wn(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=a),g!==_)){if(w=Va,y="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ga,y="onPointerLeave",p="onPointerEnter",h="pointer"),P=g==null?f:Pn(g),m=_==null?f:Pn(_),f=new w(y,h+"leave",g,n,d),f.target=P,f.relatedTarget=m,y=null,rn(d)===a&&(w=new w(p,h+"enter",_,n,d),w.target=m,w.relatedTarget=P,y=w),P=y,g&&_)t:{for(w=g,p=_,h=0,m=w;m;m=Cn(m))h++;for(m=0,y=p;y;y=Cn(y))m++;for(;0<h-m;)w=Cn(w),h--;for(;0<m-h;)p=Cn(p),m--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=Cn(w),p=Cn(p)}w=null}else w=null;g!==null&&rc(c,f,g,w,!1),_!==null&&P!==null&&rc(c,P,_,w,!0)}}e:{if(f=a?Pn(a):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var C=Yg;else if(Ya(f))if(Nf)C=Zg;else{C=Xg;var T=qg}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Jg);if(C&&(C=C(t,a))){If(c,C,n,d);break e}T&&T(t,f,a),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&nl(f,"number",f.value)}switch(T=a?Pn(a):window,t){case"focusin":(Ya(T)||T.contentEditable==="true")&&(Rn=T,pl=a,Or=null);break;case"focusout":Or=pl=Rn=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,ec(c,n,d);break;case"selectionchange":if(n_)break;case"keydown":case"keyup":ec(c,n,d)}var I;if(ku)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Nn?kf(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Cf&&n.locale!=="ko"&&(Nn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Nn&&(I=Ef()):(At=d,Su="value"in At?At.value:At.textContent,Nn=!0)),T=us(a,N),0<T.length&&(N=new ba(N,t,null,n,d),c.push({event:N,listeners:T}),I?N.data=I:(I=Tf(n),I!==null&&(N.data=I)))),(I=Vg?bg(t,n):Gg(t,n))&&(a=us(a,"onBeforeInput"),0<a.length&&(d=new ba("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:a}),d.data=I))}zf(c,e)})}function Xr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function us(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vr(t,n),s!=null&&r.unshift(Xr(t,s,i)),s=Vr(t,e),s!=null&&r.push(Xr(t,s,i))),t=t.return}return r}function Cn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=Vr(n,s),u!=null&&o.unshift(Xr(n,u,l))):i||(u=Vr(n,s),u!=null&&o.push(Xr(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var o_=/\r\n?/g,l_=/\u0000|\uFFFD/g;function ic(t){return(typeof t=="string"?t:""+t).replace(o_,`
`).replace(l_,"")}function Oi(t,e,n){if(e=ic(e),ic(t)!==e&&n)throw Error(v(425))}function as(){}var gl=null,_l=null;function yl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,u_=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,a_=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(t){return sc.resolve(null).then(t).catch(c_)}:vl;function c_(t){setTimeout(function(){throw t})}function No(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qr(e)}function zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),lt="__reactFiber$"+or,Jr="__reactProps$"+or,vt="__reactContainer$"+or,wl="__reactEvents$"+or,d_="__reactListeners$"+or,f_="__reactHandles$"+or;function rn(t){var e=t[lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vt]||n[lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oc(t);t!==null;){if(n=t[lt])return n;t=oc(t)}return e}t=n,n=t.parentNode}return null}function hi(t){return t=t[lt]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(v(33))}function Hs(t){return t[Jr]||null}var Sl=[],Dn=-1;function Yt(t){return{current:t}}function b(t){0>Dn||(t.current=Sl[Dn],Sl[Dn]=null,Dn--)}function j(t,e){Dn++,Sl[Dn]=t.current,t.current=e}var Gt={},Ee=Yt(Gt),Pe=Yt(!1),dn=Gt;function Yn(t,e){var n=t.type.contextTypes;if(!n)return Gt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function De(t){return t=t.childContextTypes,t!=null}function cs(){b(Pe),b(Ee)}function lc(t,e,n){if(Ee.current!==Gt)throw Error(v(168));j(Ee,e),j(Pe,n)}function Bf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(v(108,qm(t)||"Unknown",i));return q({},n,r)}function ds(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,dn=Ee.current,j(Ee,t),j(Pe,Pe.current),!0}function uc(t,e,n){var r=t.stateNode;if(!r)throw Error(v(169));n?(t=Bf(t,e,dn),r.__reactInternalMemoizedMergedChildContext=t,b(Pe),b(Ee),j(Ee,t)):b(Pe),j(Pe,n)}var ft=null,$s=!1,Ro=!1;function Wf(t){ft===null?ft=[t]:ft.push(t)}function h_(t){$s=!0,Wf(t)}function qt(){if(!Ro&&ft!==null){Ro=!0;var t=0,e=U;try{var n=ft;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,$s=!1}catch(i){throw ft!==null&&(ft=ft.slice(t+1)),df(_u,qt),i}finally{U=e,Ro=!1}}return null}var An=[],On=0,fs=null,hs=0,We=[],je=0,fn=null,ht=1,pt="";function Zt(t,e){An[On++]=hs,An[On++]=fs,fs=t,hs=e}function jf(t,e,n){We[je++]=ht,We[je++]=pt,We[je++]=fn,fn=t;var r=ht;t=pt;var i=32-tt(r)-1;r&=~(1<<i),n+=1;var s=32-tt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ht=1<<32-tt(e)+i|n<<i|r,pt=s+t}else ht=1<<s|n<<i|r,pt=t}function Iu(t){t.return!==null&&(Zt(t,1),jf(t,1,0))}function Nu(t){for(;t===fs;)fs=An[--On],An[On]=null,hs=An[--On],An[On]=null;for(;t===fn;)fn=We[--je],We[je]=null,pt=We[--je],We[je]=null,ht=We[--je],We[je]=null}var Fe=null,Le=null,Q=!1,Je=null;function Hf(t,e){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ac(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,Le=zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fn!==null?{id:ht,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,Le=null,!0):!1;default:return!1}}function El(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cl(t){if(Q){var e=Le;if(e){var n=e;if(!ac(t,e)){if(El(t))throw Error(v(418));e=zt(n.nextSibling);var r=Fe;e&&ac(t,e)?Hf(r,n):(t.flags=t.flags&-4097|2,Q=!1,Fe=t)}}else{if(El(t))throw Error(v(418));t.flags=t.flags&-4097|2,Q=!1,Fe=t}}}function cc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function Mi(t){if(t!==Fe)return!1;if(!Q)return cc(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yl(t.type,t.memoizedProps)),e&&(e=Le)){if(El(t))throw $f(),Error(v(418));for(;e;)Hf(t,e),e=zt(e.nextSibling)}if(cc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(v(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Le=zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Fe?zt(t.stateNode.nextSibling):null;return!0}function $f(){for(var t=Le;t;)t=zt(t.nextSibling)}function qn(){Le=Fe=null,Q=!1}function Ru(t){Je===null?Je=[t]:Je.push(t)}var p_=Tt.ReactCurrentBatchConfig;function yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(v(309));var r=n.stateNode}if(!r)throw Error(v(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(v(284));if(!n._owner)throw Error(v(290,t))}return t}function Li(t,e){throw t=Object.prototype.toString.call(e),Error(v(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dc(t){var e=t._init;return e(t._payload)}function Vf(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=jt(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,y){return h===null||h.tag!==6?(h=Lo(m,p.mode,y),h.return=p,h):(h=i(h,m),h.return=p,h)}function u(p,h,m,y){var C=m.type;return C===In?d(p,h,m.props.children,y,m.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rt&&dc(C)===h.type)?(y=i(h,m.props),y.ref=yr(p,h,m),y.return=p,y):(y=Zi(m.type,m.key,m.props,null,p.mode,y),y.ref=yr(p,h,m),y.return=p,y)}function a(p,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Fo(m,p.mode,y),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function d(p,h,m,y,C){return h===null||h.tag!==7?(h=cn(m,p.mode,y,C),h.return=p,h):(h=i(h,m),h.return=p,h)}function c(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Lo(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ki:return m=Zi(h.type,h.key,h.props,null,p.mode,m),m.ref=yr(p,null,h),m.return=p,m;case Tn:return h=Fo(h,p.mode,m),h.return=p,h;case Rt:var y=h._init;return c(p,y(h._payload),m)}if(Ir(h)||hr(h))return h=cn(h,p.mode,m,null),h.return=p,h;Li(p,h)}return null}function f(p,h,m,y){var C=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:l(p,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ki:return m.key===C?u(p,h,m,y):null;case Tn:return m.key===C?a(p,h,m,y):null;case Rt:return C=m._init,f(p,h,C(m._payload),y)}if(Ir(m)||hr(m))return C!==null?null:d(p,h,m,y,null);Li(p,m)}return null}function g(p,h,m,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(h,p,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ki:return p=p.get(y.key===null?m:y.key)||null,u(h,p,y,C);case Tn:return p=p.get(y.key===null?m:y.key)||null,a(h,p,y,C);case Rt:var T=y._init;return g(p,h,m,T(y._payload),C)}if(Ir(y)||hr(y))return p=p.get(m)||null,d(h,p,y,C,null);Li(h,y)}return null}function _(p,h,m,y){for(var C=null,T=null,I=h,N=h=0,J=null;I!==null&&N<m.length;N++){I.index>N?(J=I,I=null):J=I.sibling;var O=f(p,I,m[N],y);if(O===null){I===null&&(I=J);break}t&&I&&O.alternate===null&&e(p,I),h=s(O,h,N),T===null?C=O:T.sibling=O,T=O,I=J}if(N===m.length)return n(p,I),Q&&Zt(p,N),C;if(I===null){for(;N<m.length;N++)I=c(p,m[N],y),I!==null&&(h=s(I,h,N),T===null?C=I:T.sibling=I,T=I);return Q&&Zt(p,N),C}for(I=r(p,I);N<m.length;N++)J=g(I,p,N,m[N],y),J!==null&&(t&&J.alternate!==null&&I.delete(J.key===null?N:J.key),h=s(J,h,N),T===null?C=J:T.sibling=J,T=J);return t&&I.forEach(function(Ke){return e(p,Ke)}),Q&&Zt(p,N),C}function w(p,h,m,y){var C=hr(m);if(typeof C!="function")throw Error(v(150));if(m=C.call(m),m==null)throw Error(v(151));for(var T=C=null,I=h,N=h=0,J=null,O=m.next();I!==null&&!O.done;N++,O=m.next()){I.index>N?(J=I,I=null):J=I.sibling;var Ke=f(p,I,O.value,y);if(Ke===null){I===null&&(I=J);break}t&&I&&Ke.alternate===null&&e(p,I),h=s(Ke,h,N),T===null?C=Ke:T.sibling=Ke,T=Ke,I=J}if(O.done)return n(p,I),Q&&Zt(p,N),C;if(I===null){for(;!O.done;N++,O=m.next())O=c(p,O.value,y),O!==null&&(h=s(O,h,N),T===null?C=O:T.sibling=O,T=O);return Q&&Zt(p,N),C}for(I=r(p,I);!O.done;N++,O=m.next())O=g(I,p,N,O.value,y),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?N:O.key),h=s(O,h,N),T===null?C=O:T.sibling=O,T=O);return t&&I.forEach(function(dr){return e(p,dr)}),Q&&Zt(p,N),C}function P(p,h,m,y){if(typeof m=="object"&&m!==null&&m.type===In&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ki:e:{for(var C=m.key,T=h;T!==null;){if(T.key===C){if(C=m.type,C===In){if(T.tag===7){n(p,T.sibling),h=i(T,m.props.children),h.return=p,p=h;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rt&&dc(C)===T.type){n(p,T.sibling),h=i(T,m.props),h.ref=yr(p,T,m),h.return=p,p=h;break e}n(p,T);break}else e(p,T);T=T.sibling}m.type===In?(h=cn(m.props.children,p.mode,y,m.key),h.return=p,p=h):(y=Zi(m.type,m.key,m.props,null,p.mode,y),y.ref=yr(p,h,m),y.return=p,p=y)}return o(p);case Tn:e:{for(T=m.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=Fo(m,p.mode,y),h.return=p,p=h}return o(p);case Rt:return T=m._init,P(p,h,T(m._payload),y)}if(Ir(m))return _(p,h,m,y);if(hr(m))return w(p,h,m,y);Li(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Lo(m,p.mode,y),h.return=p,p=h),o(p)):n(p,h)}return P}var Xn=Vf(!0),bf=Vf(!1),ps=Yt(null),ms=null,Mn=null,xu=null;function Pu(){xu=Mn=ms=null}function Du(t){var e=ps.current;b(ps),t._currentValue=e}function kl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $n(t,e){ms=t,xu=Mn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function be(t){var e=t._currentValue;if(xu!==t)if(t={context:t,memoizedValue:e,next:null},Mn===null){if(ms===null)throw Error(v(308));Mn=t,ms.dependencies={lanes:0,firstContext:t}}else Mn=Mn.next=t;return e}var sn=null;function Au(t){sn===null?sn=[t]:sn.push(t)}function Gf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Au(e)):(n.next=i.next,i.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xt=!1;function Ou(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wt(t,n)}return i=r.interleaved,i===null?(e.next=e,Au(r)):(e.next=i.next,i.next=e),r.interleaved=e,wt(t,n)}function Qi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yu(t,n)}}function fc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gs(t,e,n,r){var i=t.updateQueue;xt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=a:l.next=a,d.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,d=a=u=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(f=e,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){c=_.call(g,c,f);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(g,c,f):_,f==null)break e;c=q({},c,f);break e;case 2:xt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(a=d=g,u=c):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pn|=o,t.lanes=o,t.memoizedState=c}}function hc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(v(191,i));i.call(r)}}}var pi={},ct=Yt(pi),Zr=Yt(pi),ei=Yt(pi);function on(t){if(t===pi)throw Error(v(174));return t}function Mu(t,e){switch(j(ei,e),j(Zr,t),j(ct,pi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:il(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=il(e,t)}b(ct),j(ct,e)}function Jn(){b(ct),b(Zr),b(ei)}function Kf(t){on(ei.current);var e=on(ct.current),n=il(e,t.type);e!==n&&(j(Zr,t),j(ct,n))}function Lu(t){Zr.current===t&&(b(ct),b(Zr))}var K=Yt(0);function _s(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xo=[];function Fu(){for(var t=0;t<xo.length;t++)xo[t]._workInProgressVersionPrimary=null;xo.length=0}var Ki=Tt.ReactCurrentDispatcher,Po=Tt.ReactCurrentBatchConfig,hn=0,Y=null,ne=null,ue=null,ys=!1,Mr=!1,ti=0,m_=0;function _e(){throw Error(v(321))}function zu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!it(t[n],e[n]))return!1;return!0}function Uu(t,e,n,r,i,s){if(hn=s,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ki.current=t===null||t.memoizedState===null?v_:w_,t=n(r,i),Mr){s=0;do{if(Mr=!1,ti=0,25<=s)throw Error(v(301));s+=1,ue=ne=null,e.updateQueue=null,Ki.current=S_,t=n(r,i)}while(Mr)}if(Ki.current=vs,e=ne!==null&&ne.next!==null,hn=0,ue=ne=Y=null,ys=!1,e)throw Error(v(300));return t}function Bu(){var t=ti!==0;return ti=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Y.memoizedState=ue=t:ue=ue.next=t,ue}function Ge(){if(ne===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ue===null?Y.memoizedState:ue.next;if(e!==null)ue=e,ne=t;else{if(t===null)throw Error(v(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ue===null?Y.memoizedState=ue=t:ue=ue.next=t}return ue}function ni(t,e){return typeof e=="function"?e(t):e}function Do(t){var e=Ge(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var r=ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,a=s;do{var d=a.lane;if((hn&d)===d)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var c={lane:d,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=c,o=r):u=u.next=c,Y.lanes|=d,pn|=d}a=a.next}while(a!==null&&a!==s);u===null?o=r:u.next=l,it(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Y.lanes|=s,pn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ao(t){var e=Ge(),n=e.queue;if(n===null)throw Error(v(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);it(s,e.memoizedState)||(Re=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yf(){}function qf(t,e){var n=Y,r=Ge(),i=e(),s=!it(r.memoizedState,i);if(s&&(r.memoizedState=i,Re=!0),r=r.queue,Wu(Zf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,ri(9,Jf.bind(null,n,r,i,e),void 0,null),ce===null)throw Error(v(349));hn&30||Xf(n,e,i)}return i}function Xf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jf(t,e,n,r){e.value=n,e.getSnapshot=r,eh(e)&&th(t)}function Zf(t,e,n){return n(function(){eh(e)&&th(t)})}function eh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!it(t,n)}catch{return!0}}function th(t){var e=wt(t,1);e!==null&&nt(e,t,1,-1)}function pc(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},e.queue=t,t=t.dispatch=y_.bind(null,Y,t),[e.memoizedState,t]}function ri(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nh(){return Ge().memoizedState}function Yi(t,e,n,r){var i=ot();Y.flags|=t,i.memoizedState=ri(1|e,n,void 0,r===void 0?null:r)}function Vs(t,e,n,r){var i=Ge();r=r===void 0?null:r;var s=void 0;if(ne!==null){var o=ne.memoizedState;if(s=o.destroy,r!==null&&zu(r,o.deps)){i.memoizedState=ri(e,n,s,r);return}}Y.flags|=t,i.memoizedState=ri(1|e,n,s,r)}function mc(t,e){return Yi(8390656,8,t,e)}function Wu(t,e){return Vs(2048,8,t,e)}function rh(t,e){return Vs(4,2,t,e)}function ih(t,e){return Vs(4,4,t,e)}function sh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oh(t,e,n){return n=n!=null?n.concat([t]):null,Vs(4,4,sh.bind(null,e,t),n)}function ju(){}function lh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ah(t,e,n){return hn&21?(it(n,e)||(n=pf(),Y.lanes|=n,pn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function g_(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=Po.transition;Po.transition={};try{t(!1),e()}finally{U=n,Po.transition=r}}function ch(){return Ge().memoizedState}function __(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dh(t))fh(e,n);else if(n=Gf(t,e,n,r),n!==null){var i=ke();nt(n,t,r,i),hh(n,e,r)}}function y_(t,e,n){var r=Wt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dh(t))fh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,it(l,o)){var u=e.interleaved;u===null?(i.next=i,Au(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Gf(t,e,i,r),n!==null&&(i=ke(),nt(n,t,r,i),hh(n,e,r))}}function dh(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function fh(t,e){Mr=ys=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yu(t,n)}}var vs={readContext:be,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},v_={readContext:be,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:be,useEffect:mc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yi(4194308,4,sh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yi(4,2,t,e)},useMemo:function(t,e){var n=ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=__.bind(null,Y,t),[r.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:pc,useDebugValue:ju,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=pc(!1),e=t[0];return t=g_.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Y,i=ot();if(Q){if(n===void 0)throw Error(v(407));n=n()}else{if(n=e(),ce===null)throw Error(v(349));hn&30||Xf(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mc(Zf.bind(null,r,s,t),[t]),r.flags|=2048,ri(9,Jf.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ot(),e=ce.identifierPrefix;if(Q){var n=pt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ti++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=m_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w_={readContext:be,useCallback:lh,useContext:be,useEffect:Wu,useImperativeHandle:oh,useInsertionEffect:rh,useLayoutEffect:ih,useMemo:uh,useReducer:Do,useRef:nh,useState:function(){return Do(ni)},useDebugValue:ju,useDeferredValue:function(t){var e=Ge();return ah(e,ne.memoizedState,t)},useTransition:function(){var t=Do(ni)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Yf,useSyncExternalStore:qf,useId:ch,unstable_isNewReconciler:!1},S_={readContext:be,useCallback:lh,useContext:be,useEffect:Wu,useImperativeHandle:oh,useInsertionEffect:rh,useLayoutEffect:ih,useMemo:uh,useReducer:Ao,useRef:nh,useState:function(){return Ao(ni)},useDebugValue:ju,useDeferredValue:function(t){var e=Ge();return ne===null?e.memoizedState=t:ah(e,ne.memoizedState,t)},useTransition:function(){var t=Ao(ni)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Yf,useSyncExternalStore:qf,useId:ch,unstable_isNewReconciler:!1};function qe(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bs={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Wt(t),s=gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),Qi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Wt(t),s=gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),Qi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Wt(t),i=gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ut(t,i,r),e!==null&&(nt(e,t,r,n),Qi(e,t,r))}};function gc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yr(n,r)||!Yr(i,s):!0}function ph(t,e,n){var r=!1,i=Gt,s=e.contextType;return typeof s=="object"&&s!==null?s=be(s):(i=De(e)?dn:Ee.current,r=e.contextTypes,s=(r=r!=null)?Yn(t,i):Gt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bs,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _c(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bs.enqueueReplaceState(e,e.state,null)}function Il(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ou(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=be(s):(s=De(e)?dn:Ee.current,i.context=Yn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bs.enqueueReplaceState(i,i.state,null),gs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zn(t,e){try{var n="",r=e;do n+=Ym(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Oo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E_=typeof WeakMap=="function"?WeakMap:Map;function mh(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ss||(Ss=!0,zl=r),Nl(t,e)},n}function gh(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Nl(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F_.bind(null,t,e,n),e.then(t,t))}function vc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var C_=Tt.ReactCurrentOwner,Re=!1;function Ce(t,e,n,r){e.child=t===null?bf(e,null,n,r):Xn(e,t.child,n,r)}function Sc(t,e,n,r,i){n=n.render;var s=e.ref;return $n(e,i),r=Uu(t,e,n,r,s,i),n=Bu(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(Q&&n&&Iu(e),e.flags|=1,Ce(t,e,r,i),e.child)}function Ec(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Yu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_h(t,e,s,r,i)):(t=Zi(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(o,r)&&t.ref===e.ref)return St(t,e,i)}return e.flags|=1,t=jt(s,r),t.ref=e.ref,t.return=e,e.child=t}function _h(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Yr(s,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,St(t,e,i)}return Rl(t,e,n,r,i)}function yh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},j(Fn,Me),Me|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,j(Fn,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,j(Fn,Me),Me|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,j(Fn,Me),Me|=r;return Ce(t,e,i,n),e.child}function vh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rl(t,e,n,r,i){var s=De(n)?dn:Ee.current;return s=Yn(e,s),$n(e,i),n=Uu(t,e,n,r,s,i),r=Bu(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(Q&&r&&Iu(e),e.flags|=1,Ce(t,e,n,i),e.child)}function Cc(t,e,n,r,i){if(De(n)){var s=!0;ds(e)}else s=!1;if($n(e,i),e.stateNode===null)qi(t,e),ph(e,n,r),Il(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=be(a):(a=De(n)?dn:Ee.current,a=Yn(e,a));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&_c(e,o,r,a),xt=!1;var f=e.memoizedState;o.state=f,gs(e,r,o,i),u=e.memoizedState,l!==r||f!==u||Pe.current||xt?(typeof d=="function"&&(Tl(e,n,d,r),u=e.memoizedState),(l=xt||gc(e,n,l,r,f,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qf(t,e),l=e.memoizedProps,a=e.type===e.elementType?l:qe(e.type,l),o.props=a,c=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=be(u):(u=De(n)?dn:Ee.current,u=Yn(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==u)&&_c(e,o,r,u),xt=!1,f=e.memoizedState,o.state=f,gs(e,r,o,i);var _=e.memoizedState;l!==c||f!==_||Pe.current||xt?(typeof g=="function"&&(Tl(e,n,g,r),_=e.memoizedState),(a=xt||gc(e,n,a,r,f,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return xl(t,e,n,r,s,i)}function xl(t,e,n,r,i,s){vh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uc(e,n,!1),St(t,e,s);r=e.stateNode,C_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xn(e,t.child,null,s),e.child=Xn(e,null,l,s)):Ce(t,e,l,s),e.memoizedState=r.state,i&&uc(e,n,!0),e.child}function wh(t){var e=t.stateNode;e.pendingContext?lc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lc(t,e.context,!1),Mu(t,e.containerInfo)}function kc(t,e,n,r,i){return qn(),Ru(i),e.flags|=256,Ce(t,e,n,r),e.child}var Pl={dehydrated:null,treeContext:null,retryLane:0};function Dl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sh(t,e,n){var r=e.pendingProps,i=K.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),j(K,i&1),t===null)return Cl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ks(o,r,0,null),t=cn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dl(n),e.memoizedState=Pl,t):Hu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return k_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=jt(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=jt(l,s):(s=cn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pl,r}return s=t.child,t=s.sibling,r=jt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hu(t,e){return e=Ks({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fi(t,e,n,r){return r!==null&&Ru(r),Xn(e,t.child,null,n),t=Hu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Oo(Error(v(422))),Fi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ks({mode:"visible",children:r.children},i,0,null),s=cn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xn(e,t.child,null,o),e.child.memoizedState=Dl(o),e.memoizedState=Pl,s);if(!(e.mode&1))return Fi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(v(419)),r=Oo(s,r,void 0),Fi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Re||l){if(r=ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wt(t,i),nt(r,t,i,-1))}return Ku(),r=Oo(Error(v(421))),Fi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Le=zt(i.nextSibling),Fe=e,Q=!0,Je=null,t!==null&&(We[je++]=ht,We[je++]=pt,We[je++]=fn,ht=t.id,pt=t.overflow,fn=e),e=Hu(e,r.children),e.flags|=4096,e)}function Tc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kl(t.return,e,n)}function Mo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Eh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ce(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tc(t,n,e);else if(t.tag===19)Tc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(j(K,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_s(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_s(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mo(e,!0,n,null,s);break;case"together":Mo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(v(153));if(e.child!==null){for(t=e.child,n=jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T_(t,e,n){switch(e.tag){case 3:wh(e),qn();break;case 5:Kf(e);break;case 1:De(e.type)&&ds(e);break;case 4:Mu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;j(ps,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(j(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Sh(t,e,n):(j(K,K.current&1),t=St(t,e,n),t!==null?t.sibling:null);j(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Eh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),j(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,yh(t,e,n)}return St(t,e,n)}var Ch,Al,kh,Th;Ch=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Al=function(){};kh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,on(ct.current);var s=null;switch(n){case"input":i=el(t,i),r=el(t,r),s=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),s=[];break;case"textarea":i=rl(t,i),r=rl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=as)}sl(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hr.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Hr.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&H("scroll",t),s||l===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(e.updateQueue=a)&&(e.flags|=4)}};Th=function(t,e,n,r){n!==r&&(e.flags|=4)};function vr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I_(t,e,n){var r=e.pendingProps;switch(Nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return De(e.type)&&cs(),ye(e),null;case 3:return r=e.stateNode,Jn(),b(Pe),b(Ee),Fu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Je!==null&&(Wl(Je),Je=null))),Al(t,e),ye(e),null;case 5:Lu(e);var i=on(ei.current);if(n=e.type,t!==null&&e.stateNode!=null)kh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(v(166));return ye(e),null}if(t=on(ct.current),Mi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lt]=e,r[Jr]=s,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)H(Rr[i],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Ma(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":Fa(r,s),H("invalid",r)}sl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Oi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Oi(r.textContent,l,t),i=["children",""+l]):Hr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":Ti(r),La(r,s,!0);break;case"textarea":Ti(r),za(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=as)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lt]=e,t[Jr]=r,Ch(t,e,!1,!1),e.stateNode=t;e:{switch(o=ol(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)H(Rr[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":Ma(t,r),i=el(t,r),H("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),H("invalid",t);break;case"textarea":Fa(t,r),i=rl(t,r),H("invalid",t);break;default:i=r}sl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?tf(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zd(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$r(t,u):typeof u=="number"&&$r(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&H("scroll",t):u!=null&&fu(t,s,u,o))}switch(n){case"input":Ti(t),La(t,r,!1);break;case"textarea":Ti(t),za(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=as)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)Th(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(v(166));if(n=on(ei.current),on(ct.current),Mi(e)){if(r=e.stateNode,n=e.memoizedProps,r[lt]=e,(s=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:Oi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=e,e.stateNode=r}return ye(e),null;case 13:if(b(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Le!==null&&e.mode&1&&!(e.flags&128))$f(),qn(),e.flags|=98560,s=!1;else if(s=Mi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(v(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(v(317));s[lt]=e}else qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),s=!1}else Je!==null&&(Wl(Je),Je=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ie===0&&(ie=3):Ku())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return Jn(),Al(t,e),t===null&&qr(e.stateNode.containerInfo),ye(e),null;case 10:return Du(e.type._context),ye(e),null;case 17:return De(e.type)&&cs(),ye(e),null;case 19:if(b(K),s=e.memoizedState,s===null)return ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)vr(s,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_s(t),o!==null){for(e.flags|=128,vr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return j(K,K.current&1|2),e.child}t=t.sibling}s.tail!==null&&ee()>er&&(e.flags|=128,r=!0,vr(s,!1),e.lanes=4194304)}else{if(!r)if(t=_s(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Q)return ye(e),null}else 2*ee()-s.renderingStartTime>er&&n!==1073741824&&(e.flags|=128,r=!0,vr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ee(),e.sibling=null,n=K.current,j(K,r?n&1|2:n&1),e):(ye(e),null);case 22:case 23:return Qu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Me&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(v(156,e.tag))}function N_(t,e){switch(Nu(e),e.tag){case 1:return De(e.type)&&cs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jn(),b(Pe),b(Ee),Fu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lu(e),null;case 13:if(b(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(v(340));qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return b(K),null;case 4:return Jn(),null;case 10:return Du(e.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var zi=!1,ve=!1,R_=typeof WeakSet=="function"?WeakSet:Set,E=null;function Ln(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(t,e,r)}else n.current=null}function Ol(t,e,n){try{n()}catch(r){X(t,e,r)}}var Ic=!1;function x_(t,e){if(gl=os,t=Pf(),Tu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,d=0,c=t,f=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(u=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===n&&++a===i&&(l=o),f===s&&++d===r&&(u=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_l={focusedElem:t,selectionRange:n},os=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,P=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:qe(e.type,w),P);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163))}}catch(y){X(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return _=Ic,Ic=!1,_}function Lr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ol(e,n,s)}i=i.next}while(i!==r)}}function Gs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ml(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ih(t){var e=t.alternate;e!==null&&(t.alternate=null,Ih(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[Jr],delete e[wl],delete e[d_],delete e[f_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nh(t){return t.tag===5||t.tag===3||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ll(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=as));else if(r!==4&&(t=t.child,t!==null))for(Ll(t,e,n),t=t.sibling;t!==null;)Ll(t,e,n),t=t.sibling}function Fl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fl(t,e,n),t=t.sibling;t!==null;)Fl(t,e,n),t=t.sibling}var fe=null,Xe=!1;function Nt(t,e,n){for(n=n.child;n!==null;)Rh(t,e,n),n=n.sibling}function Rh(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Us,n)}catch{}switch(n.tag){case 5:ve||Ln(n,e);case 6:var r=fe,i=Xe;fe=null,Nt(t,e,n),fe=r,Xe=i,fe!==null&&(Xe?(t=fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Xe?(t=fe,n=n.stateNode,t.nodeType===8?No(t.parentNode,n):t.nodeType===1&&No(t,n),Qr(t)):No(fe,n.stateNode));break;case 4:r=fe,i=Xe,fe=n.stateNode.containerInfo,Xe=!0,Nt(t,e,n),fe=r,Xe=i;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ol(n,e,o),i=i.next}while(i!==r)}Nt(t,e,n);break;case 1:if(!ve&&(Ln(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){X(n,e,l)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,Nt(t,e,n),ve=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function Rc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R_),e.forEach(function(r){var i=U_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Xe=!1;break e;case 3:fe=l.stateNode.containerInfo,Xe=!0;break e;case 4:fe=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(fe===null)throw Error(v(160));Rh(s,o,i),fe=null,Xe=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){X(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xh(e,t),e=e.sibling}function xh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),st(t),r&4){try{Lr(3,t,t.return),Gs(3,t)}catch(w){X(t,t.return,w)}try{Lr(5,t,t.return)}catch(w){X(t,t.return,w)}}break;case 1:Ye(e,t),st(t),r&512&&n!==null&&Ln(n,n.return);break;case 5:if(Ye(e,t),st(t),r&512&&n!==null&&Ln(n,n.return),t.flags&32){var i=t.stateNode;try{$r(i,"")}catch(w){X(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&qd(i,s),ol(l,o);var a=ol(l,s);for(o=0;o<u.length;o+=2){var d=u[o],c=u[o+1];d==="style"?tf(i,c):d==="dangerouslySetInnerHTML"?Zd(i,c):d==="children"?$r(i,c):fu(i,d,c,a)}switch(l){case"input":tl(i,s);break;case"textarea":Xd(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Bn(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Bn(i,!!s.multiple,s.defaultValue,!0):Bn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jr]=s}catch(w){X(t,t.return,w)}}break;case 6:if(Ye(e,t),st(t),r&4){if(t.stateNode===null)throw Error(v(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){X(t,t.return,w)}}break;case 3:if(Ye(e,t),st(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(e.containerInfo)}catch(w){X(t,t.return,w)}break;case 4:Ye(e,t),st(t);break;case 13:Ye(e,t),st(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bu=ee())),r&4&&Rc(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ve=(a=ve)||d,Ye(e,t),ve=a):Ye(e,t),st(t),r&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!d&&t.mode&1)for(E=t,d=t.child;d!==null;){for(c=E=d;E!==null;){switch(f=E,g=f.child,f.tag){case 0:case 11:case 14:case 15:Lr(4,f,f.return);break;case 1:Ln(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){X(r,n,w)}}break;case 5:Ln(f,f.return);break;case 22:if(f.memoizedState!==null){Pc(c);continue}}g!==null?(g.return=f,E=g):Pc(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ef("display",o))}catch(w){X(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(w){X(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ye(e,t),st(t),r&4&&Rc(t);break;case 21:break;default:Ye(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nh(n)){var r=n;break e}n=n.return}throw Error(v(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($r(i,""),r.flags&=-33);var s=Nc(t);Fl(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Nc(t);Ll(t,l,o);break;default:throw Error(v(161))}}catch(u){X(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P_(t,e,n){E=t,Ph(t)}function Ph(t,e,n){for(var r=(t.mode&1)!==0;E!==null;){var i=E,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zi;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ve;l=zi;var a=ve;if(zi=o,(ve=u)&&!a)for(E=i;E!==null;)o=E,u=o.child,o.tag===22&&o.memoizedState!==null?Dc(i):u!==null?(u.return=o,E=u):Dc(i);for(;s!==null;)E=s,Ph(s),s=s.sibling;E=i,zi=l,ve=a}xc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,E=s):xc(t)}}function xc(t){for(;E!==null;){var e=E;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||Gs(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ve)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qe(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var d=a.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Qr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163))}ve||e.flags&512&&Ml(e)}catch(f){X(e,e.return,f)}}if(e===t){E=null;break}if(n=e.sibling,n!==null){n.return=e.return,E=n;break}E=e.return}}function Pc(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var n=e.sibling;if(n!==null){n.return=e.return,E=n;break}E=e.return}}function Dc(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gs(4,e)}catch(u){X(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){X(e,i,u)}}var s=e.return;try{Ml(e)}catch(u){X(e,s,u)}break;case 5:var o=e.return;try{Ml(e)}catch(u){X(e,o,u)}}}catch(u){X(e,e.return,u)}if(e===t){E=null;break}var l=e.sibling;if(l!==null){l.return=e.return,E=l;break}E=e.return}}var D_=Math.ceil,ws=Tt.ReactCurrentDispatcher,$u=Tt.ReactCurrentOwner,Ve=Tt.ReactCurrentBatchConfig,F=0,ce=null,te=null,me=0,Me=0,Fn=Yt(0),ie=0,ii=null,pn=0,Qs=0,Vu=0,Fr=null,Ne=null,bu=0,er=1/0,dt=null,Ss=!1,zl=null,Bt=null,Ui=!1,Ot=null,Es=0,zr=0,Ul=null,Xi=-1,Ji=0;function ke(){return F&6?ee():Xi!==-1?Xi:Xi=ee()}function Wt(t){return t.mode&1?F&2&&me!==0?me&-me:p_.transition!==null?(Ji===0&&(Ji=pf()),Ji):(t=U,t!==0||(t=window.event,t=t===void 0?16:Sf(t.type)),t):1}function nt(t,e,n,r){if(50<zr)throw zr=0,Ul=null,Error(v(185));di(t,n,r),(!(F&2)||t!==ce)&&(t===ce&&(!(F&2)&&(Qs|=n),ie===4&&Dt(t,me)),Ae(t,r),n===1&&F===0&&!(e.mode&1)&&(er=ee()+500,$s&&qt()))}function Ae(t,e){var n=t.callbackNode;pg(t,e);var r=ss(t,t===ce?me:0);if(r===0)n!==null&&Wa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wa(n),e===1)t.tag===0?h_(Ac.bind(null,t)):Wf(Ac.bind(null,t)),a_(function(){!(F&6)&&qt()}),n=null;else{switch(mf(r)){case 1:n=_u;break;case 4:n=ff;break;case 16:n=is;break;case 536870912:n=hf;break;default:n=is}n=Uh(n,Dh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dh(t,e){if(Xi=-1,Ji=0,F&6)throw Error(v(327));var n=t.callbackNode;if(Vn()&&t.callbackNode!==n)return null;var r=ss(t,t===ce?me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cs(t,r);else{e=r;var i=F;F|=2;var s=Oh();(ce!==t||me!==e)&&(dt=null,er=ee()+500,an(t,e));do try{M_();break}catch(l){Ah(t,l)}while(!0);Pu(),ws.current=s,F=i,te!==null?e=0:(ce=null,me=0,e=ie)}if(e!==0){if(e===2&&(i=dl(t),i!==0&&(r=i,e=Bl(t,i))),e===1)throw n=ii,an(t,0),Dt(t,r),Ae(t,ee()),n;if(e===6)Dt(t,r);else{if(i=t.current.alternate,!(r&30)&&!A_(i)&&(e=Cs(t,r),e===2&&(s=dl(t),s!==0&&(r=s,e=Bl(t,s))),e===1))throw n=ii,an(t,0),Dt(t,r),Ae(t,ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(v(345));case 2:en(t,Ne,dt);break;case 3:if(Dt(t,r),(r&130023424)===r&&(e=bu+500-ee(),10<e)){if(ss(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vl(en.bind(null,t,Ne,dt),e);break}en(t,Ne,dt);break;case 4:if(Dt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D_(r/1960))-r,10<r){t.timeoutHandle=vl(en.bind(null,t,Ne,dt),r);break}en(t,Ne,dt);break;case 5:en(t,Ne,dt);break;default:throw Error(v(329))}}}return Ae(t,ee()),t.callbackNode===n?Dh.bind(null,t):null}function Bl(t,e){var n=Fr;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=Cs(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&Wl(e)),t}function Wl(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function A_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!it(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~Vu,e&=~Qs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),r=1<<n;t[n]=-1,e&=~r}}function Ac(t){if(F&6)throw Error(v(327));Vn();var e=ss(t,0);if(!(e&1))return Ae(t,ee()),null;var n=Cs(t,e);if(t.tag!==0&&n===2){var r=dl(t);r!==0&&(e=r,n=Bl(t,r))}if(n===1)throw n=ii,an(t,0),Dt(t,e),Ae(t,ee()),n;if(n===6)throw Error(v(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,en(t,Ne,dt),Ae(t,ee()),null}function Gu(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(er=ee()+500,$s&&qt())}}function mn(t){Ot!==null&&Ot.tag===0&&!(F&6)&&Vn();var e=F;F|=1;var n=Ve.transition,r=U;try{if(Ve.transition=null,U=1,t)return t()}finally{U=r,Ve.transition=n,F=e,!(F&6)&&qt()}}function Qu(){Me=Fn.current,b(Fn)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u_(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cs();break;case 3:Jn(),b(Pe),b(Ee),Fu();break;case 5:Lu(r);break;case 4:Jn();break;case 13:b(K);break;case 19:b(K);break;case 10:Du(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(ce=t,te=t=jt(t.current,null),me=Me=e,ie=0,ii=null,Vu=Qs=pn=0,Ne=Fr=null,sn!==null){for(e=0;e<sn.length;e++)if(n=sn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}sn=null}return t}function Ah(t,e){do{var n=te;try{if(Pu(),Ki.current=vs,ys){for(var r=Y.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ys=!1}if(hn=0,ue=ne=Y=null,Mr=!1,ti=0,$u.current=null,n===null||n.return===null){ie=1,ii=e,te=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=me,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=vc(o);if(g!==null){g.flags&=-257,wc(g,o,l,s,e),g.mode&1&&yc(s,a,e),e=g,u=a;var _=e.updateQueue;if(_===null){var w=new Set;w.add(u),e.updateQueue=w}else _.add(u);break e}else{if(!(e&1)){yc(s,a,e),Ku();break e}u=Error(v(426))}}else if(Q&&l.mode&1){var P=vc(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),wc(P,o,l,s,e),Ru(Zn(u,l));break e}}s=u=Zn(u,l),ie!==4&&(ie=2),Fr===null?Fr=[s]:Fr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=mh(s,u,e);fc(s,p);break e;case 1:l=u;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bt===null||!Bt.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=gh(s,l,e);fc(s,y);break e}}s=s.return}while(s!==null)}Lh(n)}catch(C){e=C,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function Oh(){var t=ws.current;return ws.current=vs,t===null?vs:t}function Ku(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(pn&268435455)&&!(Qs&268435455)||Dt(ce,me)}function Cs(t,e){var n=F;F|=2;var r=Oh();(ce!==t||me!==e)&&(dt=null,an(t,e));do try{O_();break}catch(i){Ah(t,i)}while(!0);if(Pu(),F=n,ws.current=r,te!==null)throw Error(v(261));return ce=null,me=0,ie}function O_(){for(;te!==null;)Mh(te)}function M_(){for(;te!==null&&!sg();)Mh(te)}function Mh(t){var e=zh(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?Lh(t):te=e,$u.current=null}function Lh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N_(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,te=null;return}}else if(n=I_(n,e,Me),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ie===0&&(ie=5)}function en(t,e,n){var r=U,i=Ve.transition;try{Ve.transition=null,U=1,L_(t,e,n,r)}finally{Ve.transition=i,U=r}return null}function L_(t,e,n,r){do Vn();while(Ot!==null);if(F&6)throw Error(v(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(v(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mg(t,s),t===ce&&(te=ce=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ui||(Ui=!0,Uh(is,function(){return Vn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ve.transition,Ve.transition=null;var o=U;U=1;var l=F;F|=4,$u.current=null,x_(t,n),xh(n,t),t_(_l),os=!!gl,_l=gl=null,t.current=n,P_(n),og(),F=l,U=o,Ve.transition=s}else t.current=n;if(Ui&&(Ui=!1,Ot=t,Es=i),s=t.pendingLanes,s===0&&(Bt=null),ag(n.stateNode),Ae(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ss)throw Ss=!1,t=zl,zl=null,t;return Es&1&&t.tag!==0&&Vn(),s=t.pendingLanes,s&1?t===Ul?zr++:(zr=0,Ul=t):zr=0,qt(),null}function Vn(){if(Ot!==null){var t=mf(Es),e=Ve.transition,n=U;try{if(Ve.transition=null,U=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,Es=0,F&6)throw Error(v(331));var i=F;for(F|=4,E=t.current;E!==null;){var s=E,o=s.child;if(E.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(E=a;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:Lr(8,d,s)}var c=d.child;if(c!==null)c.return=d,E=c;else for(;E!==null;){d=E;var f=d.sibling,g=d.return;if(Ih(d),d===a){E=null;break}if(f!==null){f.return=g,E=f;break}E=g}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}E=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,E=o;else e:for(;E!==null;){if(s=E,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,E=p;break e}E=s.return}}var h=t.current;for(E=h;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=h;E!==null;){if(l=E,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gs(9,l)}}catch(C){X(l,l.return,C)}if(l===o){E=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,E=y;break e}E=l.return}}if(F=i,qt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Us,t)}catch{}r=!0}return r}finally{U=n,Ve.transition=e}}return!1}function Oc(t,e,n){e=Zn(n,e),e=mh(t,e,1),t=Ut(t,e,1),e=ke(),t!==null&&(di(t,1,e),Ae(t,e))}function X(t,e,n){if(t.tag===3)Oc(t,t,n);else for(;e!==null;){if(e.tag===3){Oc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=Zn(n,t),t=gh(e,t,1),e=Ut(e,t,1),t=ke(),e!==null&&(di(e,1,t),Ae(e,t));break}}e=e.return}}function F_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(me&n)===n&&(ie===4||ie===3&&(me&130023424)===me&&500>ee()-bu?an(t,0):Vu|=n),Ae(t,e)}function Fh(t,e){e===0&&(t.mode&1?(e=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(di(t,e,n),Ae(t,n))}function z_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fh(t,n)}function U_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(v(314))}r!==null&&r.delete(e),Fh(t,n)}var zh;zh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,T_(t,e,n);Re=!!(t.flags&131072)}else Re=!1,Q&&e.flags&1048576&&jf(e,hs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qi(t,e),t=e.pendingProps;var i=Yn(e,Ee.current);$n(e,n),i=Uu(null,e,r,t,i,n);var s=Bu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(r)?(s=!0,ds(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ou(e),i.updater=bs,e.stateNode=i,i._reactInternals=e,Il(e,r,t,n),e=xl(null,e,r,!0,s,n)):(e.tag=0,Q&&s&&Iu(e),Ce(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qi(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W_(r),t=qe(r,t),i){case 0:e=Rl(null,e,r,t,n);break e;case 1:e=Cc(null,e,r,t,n);break e;case 11:e=Sc(null,e,r,t,n);break e;case 14:e=Ec(null,e,r,qe(r.type,t),n);break e}throw Error(v(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Rl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Cc(t,e,r,i,n);case 3:e:{if(wh(e),t===null)throw Error(v(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qf(t,e),gs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zn(Error(v(423)),e),e=kc(t,e,r,n,i);break e}else if(r!==i){i=Zn(Error(v(424)),e),e=kc(t,e,r,n,i);break e}else for(Le=zt(e.stateNode.containerInfo.firstChild),Fe=e,Q=!0,Je=null,n=bf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===i){e=St(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 5:return Kf(e),t===null&&Cl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yl(r,i)?o=null:s!==null&&yl(r,s)&&(e.flags|=32),vh(t,e),Ce(t,e,o,n),e.child;case 6:return t===null&&Cl(e),null;case 13:return Sh(t,e,n);case 4:return Mu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xn(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Sc(t,e,r,i,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,j(ps,r._currentValue),r._currentValue=o,s!==null)if(it(s.value,o)){if(s.children===i.children&&!Pe.current){e=St(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gt(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),kl(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(v(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kl(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ce(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$n(e,n),i=be(i),r=r(i),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return r=e.type,i=qe(r,e.pendingProps),i=qe(r.type,i),Ec(t,e,r,i,n);case 15:return _h(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),qi(t,e),e.tag=1,De(r)?(t=!0,ds(e)):t=!1,$n(e,n),ph(e,r,i),Il(e,r,i,n),xl(null,e,r,!0,t,n);case 19:return Eh(t,e,n);case 22:return yh(t,e,n)}throw Error(v(156,e.tag))};function Uh(t,e){return df(t,e)}function B_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,n,r){return new B_(t,e,n,r)}function Yu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W_(t){if(typeof t=="function")return Yu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pu)return 11;if(t===mu)return 14}return 2}function jt(t,e){var n=t.alternate;return n===null?(n=He(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zi(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Yu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case In:return cn(n.children,i,s,e);case hu:o=8,i|=8;break;case qo:return t=He(12,n,e,i|2),t.elementType=qo,t.lanes=s,t;case Xo:return t=He(13,n,e,i),t.elementType=Xo,t.lanes=s,t;case Jo:return t=He(19,n,e,i),t.elementType=Jo,t.lanes=s,t;case Qd:return Ks(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bd:o=10;break e;case Gd:o=9;break e;case pu:o=11;break e;case mu:o=14;break e;case Rt:o=16,r=null;break e}throw Error(v(130,t==null?t:typeof t,""))}return e=He(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cn(t,e,n,r){return t=He(7,t,r,e),t.lanes=n,t}function Ks(t,e,n,r){return t=He(22,t,r,e),t.elementType=Qd,t.lanes=n,t.stateNode={isHidden:!1},t}function Lo(t,e,n){return t=He(6,t,null,e),t.lanes=n,t}function Fo(t,e,n){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=go(0),this.expirationTimes=go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qu(t,e,n,r,i,s,o,l,u){return t=new j_(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=He(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(s),t}function H_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bh(t){if(!t)return Gt;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(v(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(v(171))}if(t.tag===1){var n=t.type;if(De(n))return Bf(t,n,e)}return e}function Wh(t,e,n,r,i,s,o,l,u){return t=qu(n,r,!0,t,i,s,o,l,u),t.context=Bh(null),n=t.current,r=ke(),i=Wt(n),s=gt(r,i),s.callback=e??null,Ut(n,s,i),t.current.lanes=i,di(t,i,r),Ae(t,r),t}function Ys(t,e,n,r){var i=e.current,s=ke(),o=Wt(i);return n=Bh(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(i,e,o),t!==null&&(nt(t,i,o,s),Qi(t,i,o)),o}function ks(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xu(t,e){Mc(t,e),(t=t.alternate)&&Mc(t,e)}function $_(){return null}var jh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ju(t){this._internalRoot=t}qs.prototype.render=Ju.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(v(409));Ys(t,e,null,null)};qs.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mn(function(){Ys(null,t,null,null)}),e[vt]=null}};function qs(t){this._internalRoot=t}qs.prototype.unstable_scheduleHydration=function(t){if(t){var e=yf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pt.length&&e!==0&&e<Pt[n].priority;n++);Pt.splice(n,0,t),n===0&&wf(t)}};function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lc(){}function V_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=ks(o);s.call(a)}}var o=Wh(e,r,t,0,null,!1,!1,"",Lc);return t._reactRootContainer=o,t[vt]=o.current,qr(t.nodeType===8?t.parentNode:t),mn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var a=ks(u);l.call(a)}}var u=qu(t,0,!1,null,null,!1,!1,"",Lc);return t._reactRootContainer=u,t[vt]=u.current,qr(t.nodeType===8?t.parentNode:t),mn(function(){Ys(e,u,n,r)}),u}function Js(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=ks(o);l.call(u)}}Ys(e,o,t,i)}else o=V_(n,e,t,i,r);return ks(o)}gf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nr(e.pendingLanes);n!==0&&(yu(e,n|1),Ae(e,ee()),!(F&6)&&(er=ee()+500,qt()))}break;case 13:mn(function(){var r=wt(t,1);if(r!==null){var i=ke();nt(r,t,1,i)}}),Xu(t,1)}};vu=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();nt(e,t,134217728,n)}Xu(t,134217728)}};_f=function(t){if(t.tag===13){var e=Wt(t),n=wt(t,e);if(n!==null){var r=ke();nt(n,t,e,r)}Xu(t,e)}};yf=function(){return U};vf=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};ul=function(t,e,n){switch(e){case"input":if(tl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hs(r);if(!i)throw Error(v(90));Yd(r),tl(r,i)}}}break;case"textarea":Xd(t,n);break;case"select":e=n.value,e!=null&&Bn(t,!!n.multiple,e,!1)}};sf=Gu;of=mn;var b_={usingClientEntryPoint:!1,Events:[hi,Pn,Hs,nf,rf,Gu]},wr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G_={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=af(t),t===null?null:t.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||$_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bi.isDisabled&&Bi.supportsFiber)try{Us=Bi.inject(G_),at=Bi}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(e))throw Error(v(200));return H_(t,e,null,n)};Ue.createRoot=function(t,e){if(!Zu(t))throw Error(v(299));var n=!1,r="",i=jh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qu(t,1,!1,null,null,n,!1,r,i),t[vt]=e.current,qr(t.nodeType===8?t.parentNode:t),new Ju(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(v(188)):(t=Object.keys(t).join(","),Error(v(268,t)));return t=af(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return mn(t)};Ue.hydrate=function(t,e,n){if(!Xs(e))throw Error(v(200));return Js(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!Zu(t))throw Error(v(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wh(e,null,t,1,n??null,i,!1,s,o),t[vt]=e.current,qr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qs(e)};Ue.render=function(t,e,n){if(!Xs(e))throw Error(v(200));return Js(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Xs(t))throw Error(v(40));return t._reactRootContainer?(mn(function(){Js(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Ue.unstable_batchedUpdates=Gu;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xs(n))throw Error(v(200));if(t==null||t._reactInternals===void 0)throw Error(v(38));return Js(t,e,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hh)}catch(t){console.error(t)}}Hh(),jd.exports=Ue;var Q_=jd.exports,$h,Fc=Q_;$h=Fc.createRoot,Fc.hydrateRoot;var zc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw lr(e)},lr=function(t){return new Error("Firebase Database ("+Vh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ea={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,a=u?t[i+2]:0,d=s>>2,c=(s&3)<<4|l>>4;let f=(l&15)<<2|a>>6,g=a&63;u||(g=64,o||(f=64)),r.push(n[d],n[c],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||a==null||c==null)throw new Y_;const f=s<<2|l>>4;if(r.push(f),a!==64){const g=l<<4&240|a>>2;if(r.push(g),c!==64){const _=a<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gh=function(t){const e=bh(t);return ea.encodeByteArray(e,!0)},Ts=function(t){return Gh(t).replace(/\./g,"")},jl=function(t){try{return ea.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){return Qh(void 0,t)}function Qh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!X_(n)||(t[n]=Qh(t[n],e[n]));return t}function X_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=()=>J_().__FIREBASE_DEFAULTS__,ey=()=>{if(typeof process>"u"||typeof zc>"u")return;const t=zc.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ty=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jl(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return Z_()||ey()||ty()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ny=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ry=t=>{const e=ny(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yh=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ts(JSON.stringify(n)),Ts(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sy())}function oy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xh(){return Vh.NODE_ADMIN===!0}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function uy(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ay,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jh.prototype.create)}}class Jh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cy(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new mi(i,l,r)}}function cy(t,e){return t.replace(dy,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dy=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return JSON.parse(t)}function pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=si(jl(s[0])||""),n=si(jl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},fy=function(t){const e=Zh(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hy=function(t){const e=Zh(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Uc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Is(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Bc(s)&&Bc(o)){if(!Hl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,d;for(let c=0;c<80;c++){c<40?c<20?(a=l^s&(o^l),d=1518500249):(a=s^o^l,d=1859775393):c<60?(a=s&o|l&(s|o),d=2400959708):(a=s^o^l,d=3395469782);const f=(i<<5|i>>>27)+a+u+d+r[c]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function ta(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,S(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vy(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=tn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tn){return this.instances.has(e)}getOptions(e=tn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yy(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tn){return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yy(t){return t===tn?void 0:t}function vy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(W||(W={}));const Sy={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},Ey=W.INFO,Cy={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ky=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=Ey,this._logHandler=ky,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}}const Ty=(t,e)=>e.some(n=>t instanceof n);let Wc,jc;function Iy(){return Wc||(Wc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ny(){return jc||(jc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tp=new WeakMap,$l=new WeakMap,np=new WeakMap,zo=new WeakMap,na=new WeakMap;function Ry(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ht(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tp.set(n,t)}).catch(()=>{}),na.set(e,t),e}function xy(t){if($l.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$l.set(t,e)}let Vl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $l.get(t);if(e==="objectStoreNames")return t.objectStoreNames||np.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Py(t){Vl=t(Vl)}function Dy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uo(this),e,...n);return np.set(r,e.sort?e.sort():[e]),Ht(r)}:Ny().includes(t)?function(...e){return t.apply(Uo(this),e),Ht(tp.get(this))}:function(...e){return Ht(t.apply(Uo(this),e))}}function Ay(t){return typeof t=="function"?Dy(t):(t instanceof IDBTransaction&&xy(t),Ty(t,Iy())?new Proxy(t,Vl):t)}function Ht(t){if(t instanceof IDBRequest)return Ry(t);if(zo.has(t))return zo.get(t);const e=Ay(t);return e!==t&&(zo.set(t,e),na.set(e,t)),e}const Uo=t=>na.get(t);function Oy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ht(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ht(o.result),u.oldVersion,u.newVersion,Ht(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",a=>i(a.oldVersion,a.newVersion,a))}).catch(()=>{}),l}const My=["get","getKey","getAll","getAllKeys","count"],Ly=["put","add","delete","clear"],Bo=new Map;function Hc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bo.get(e))return Bo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ly.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||My.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let a=u.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),i&&u.done]))[0]};return Bo.set(e,s),s}Py(t=>({...t,get:(e,n,r)=>Hc(e,n)||t.get(e,n,r),has:(e,n)=>!!Hc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bl="@firebase/app",$c="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et=new ep("@firebase/app"),Uy="@firebase/app-compat",By="@firebase/analytics-compat",Wy="@firebase/analytics",jy="@firebase/app-check-compat",Hy="@firebase/app-check",$y="@firebase/auth",Vy="@firebase/auth-compat",by="@firebase/database",Gy="@firebase/data-connect",Qy="@firebase/database-compat",Ky="@firebase/functions",Yy="@firebase/functions-compat",qy="@firebase/installations",Xy="@firebase/installations-compat",Jy="@firebase/messaging",Zy="@firebase/messaging-compat",ev="@firebase/performance",tv="@firebase/performance-compat",nv="@firebase/remote-config",rv="@firebase/remote-config-compat",iv="@firebase/storage",sv="@firebase/storage-compat",ov="@firebase/firestore",lv="@firebase/vertexai",uv="@firebase/firestore-compat",av="firebase",cv="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]",dv={[bl]:"fire-core",[Uy]:"fire-core-compat",[Wy]:"fire-analytics",[By]:"fire-analytics-compat",[Hy]:"fire-app-check",[jy]:"fire-app-check-compat",[$y]:"fire-auth",[Vy]:"fire-auth-compat",[by]:"fire-rtdb",[Gy]:"fire-data-connect",[Qy]:"fire-rtdb-compat",[Ky]:"fire-fn",[Yy]:"fire-fn-compat",[qy]:"fire-iid",[Xy]:"fire-iid-compat",[Jy]:"fire-fcm",[Zy]:"fire-fcm-compat",[ev]:"fire-perf",[tv]:"fire-perf-compat",[nv]:"fire-rc",[rv]:"fire-rc-compat",[iv]:"fire-gcs",[sv]:"fire-gcs-compat",[ov]:"fire-fst",[uv]:"fire-fst-compat",[lv]:"fire-vertex","fire-js":"fire-js",[av]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Map,fv=new Map,Ql=new Map;function Vc(t,e){try{t.container.addComponent(e)}catch(n){Et.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rs(t){const e=t.name;if(Ql.has(e))return Et.debug(`There were multiple attempts to register component ${e}.`),!1;Ql.set(e,t);for(const n of Ns.values())Vc(n,t);for(const n of fv.values())Vc(n,t);return!0}function hv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$t=new Jh("app","Firebase",pv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=cv;function rp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gl,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $t.create("bad-app-name",{appName:String(i)});if(n||(n=Yh()),!n)throw $t.create("no-options");const s=Ns.get(i);if(s){if(Hl(n,s.options)&&Hl(r,s.config))return s;throw $t.create("duplicate-app",{appName:i})}const o=new wy(i);for(const u of Ql.values())o.addComponent(u);const l=new mv(n,r,o);return Ns.set(i,l),l}function _v(t=Gl){const e=Ns.get(t);if(!e&&t===Gl&&Yh())return rp();if(!e)throw $t.create("no-app",{appName:t});return e}function bn(t,e,n){var r;let i=(r=dv[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Et.warn(l.join(" "));return}Rs(new oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="firebase-heartbeat-database",vv=1,li="firebase-heartbeat-store";let Wo=null;function ip(){return Wo||(Wo=Oy(yv,vv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(li)}catch(n){console.warn(n)}}}}).catch(t=>{throw $t.create("idb-open",{originalErrorMessage:t.message})})),Wo}async function wv(t){try{const n=(await ip()).transaction(li),r=await n.objectStore(li).get(sp(t));return await n.done,r}catch(e){if(e instanceof mi)Et.warn(e.message);else{const n=$t.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Et.warn(n.message)}}}async function bc(t,e){try{const r=(await ip()).transaction(li,"readwrite");await r.objectStore(li).put(e,sp(t)),await r.done}catch(n){if(n instanceof mi)Et.warn(n.message);else{const r=$t.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Et.warn(r.message)}}}function sp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=1024,Ev=30*24*60*60*1e3;class Cv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Ev}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Et.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gc(),{heartbeatsToSend:r,unsentEntries:i}=kv(this._heartbeatsCache.heartbeats),s=Ts(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Et.warn(n),""}}}function Gc(){return new Date().toISOString().substring(0,10)}function kv(t,e=Sv){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Tv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ly()?uy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qc(t){return Ts(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){Rs(new oi("platform-logger",e=>new Fy(e),"PRIVATE")),Rs(new oi("heartbeat",e=>new Cv(e),"PRIVATE")),bn(bl,$c,t),bn(bl,$c,"esm2017"),bn("fire-js","")}Iv("");var Nv="firebase",Rv="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(Nv,Rv,"app");var Kc={};const Yc="@firebase/database",qc="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op="";function xv(t){op=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:si(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return It(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Pv(e)}}catch{}return new Dv},ln=lp("localStorage"),Av=lp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new ep("@firebase/database"),Ov=function(){let t=1;return function(){return t++}}(),up=function(t){const e=gy(t),n=new my;n.update(e);const r=n.digest();return ea.encodeByteArray(r)},_i=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_i.apply(null,r):typeof r=="object"?e+=pe(r):e+=r,e+=" "}return e};let Ur=null,Xc=!0;const Mv=function(t,e){S(!e,"Can't turn on custom loggers persistently."),Gn.logLevel=W.VERBOSE,Ur=Gn.log.bind(Gn)},we=function(...t){if(Xc===!0&&(Xc=!1,Ur===null&&Av.get("logging_enabled")===!0&&Mv()),Ur){const e=_i.apply(null,t);Ur(e)}},yi=function(t){return function(...e){we(t,...e)}},Kl=function(...t){const e="FIREBASE INTERNAL ERROR: "+_i(...t);Gn.error(e)},Ct=function(...t){const e=`FIREBASE FATAL ERROR: ${_i(...t)}`;throw Gn.error(e),new Error(e)},Oe=function(...t){const e="FIREBASE WARNING: "+_i(...t);Gn.warn(e)},Lv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Oe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ap=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Fv=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},nr="[MIN_NAME]",gn="[MAX_NAME]",ur=function(t,e){if(t===e)return 0;if(t===nr||e===gn)return-1;if(e===nr||t===gn)return 1;{const n=Jc(t),r=Jc(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},zv=function(t,e){return t===e?0:t<e?-1:1},Sr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pe(e))},ra=function(t){if(typeof t!="object"||t===null)return pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pe(e[r]),n+=":",n+=ra(t[e[r]]);return n+="}",n},cp=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const dp=function(t){S(!ap(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const d=a.join("");let c="";for(u=0;u<64;u+=8){let f=parseInt(d.substr(u,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},Uv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Wv=new RegExp("^-?(0*)\\d{1,10}$"),jv=-2147483648,Hv=2147483647,Jc=function(t){if(Wv.test(t)){const e=Number(t);if(e>=jv&&e<=Hv)return e}return null},ar=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Oe("Exception was thrown by user callback.",n),e},Math.floor(0))}},$v=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Br=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Oe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oe(e)}}class es{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}es.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="5",fp="v",hp="s",pp="r",mp="f",gp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_p="ls",yp="p",Yl="ac",vp="websocket",wp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,i,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ln.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ln.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Gv(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ep(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(e===vp)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===wp)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Gv(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.counters_={}}incrementCounter(e,n=1){It(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return q_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo={},Ho={};function sa(t){const e=t.toString();return jo[e]||(jo[e]=new Qv),jo[e]}function Kv(t,e){const n=t.toString();return Ho[n]||(Ho[n]=e()),Ho[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ar(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="start",qv="close",Xv="pLPCommand",Jv="pRTLPCB",Cp="id",kp="pw",Tp="ser",Zv="cb",e0="seg",t0="ts",n0="d",r0="dframe",Ip=1870,Np=30,i0=Ip-Np,s0=25e3,o0=3e4;class zn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yi(e),this.stats_=sa(n),this.urlFn=u=>(this.appCheckToken&&(u[Yl]=this.appCheckToken),Ep(n,wp,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(o0)),Fv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oa((...s)=>{const[o,l,u,a,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Zc)this.id=l,this.password=u;else if(o===qv)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Zc]="t",r[Tp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zv]=this.scriptTagHolder.uniqueCallbackIdentifier),r[fp]=ia,this.transportSessionId&&(r[hp]=this.transportSessionId),this.lastSessionId&&(r[_p]=this.lastSessionId),this.applicationId&&(r[yp]=this.applicationId),this.appCheckToken&&(r[Yl]=this.appCheckToken),typeof location<"u"&&location.hostname&&gp.test(location.hostname)&&(r[pp]=mp);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zn.forceAllow_=!0}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){return zn.forceAllow_?!0:!zn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uv()&&!Bv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Gh(n),i=cp(r,i0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[r0]="t",r[Cp]=e,r[kp]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oa{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ov(),window[Xv+this.uniqueCallbackIdentifier]=e,window[Jv+this.uniqueCallbackIdentifier]=n,this.myIFrame=oa.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){we("frame writing exception"),l.stack&&we(l.stack),we(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Cp]=this.myID,e[kp]=this.myPW,e[Tp]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Np+r.length<=Ip;){const o=this.pendingSegs.shift();r=r+"&"+e0+i+"="+o.seg+"&"+t0+i+"="+o.ts+"&"+n0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(s0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=16384,u0=45e3;let xs=null;typeof MozWebSocket<"u"?xs=MozWebSocket:typeof WebSocket<"u"&&(xs=WebSocket);class Ze{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yi(this.connId),this.stats_=sa(n),this.connURL=Ze.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[fp]=ia,typeof location<"u"&&location.hostname&&gp.test(location.hostname)&&(o[pp]=mp),n&&(o[hp]=n),r&&(o[_p]=r),i&&(o[Yl]=i),s&&(o[yp]=s),Ep(e,vp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ln.set("previous_websocket_failure",!0);try{let r;Xh(),this.mySock=new xs(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ze.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xs!==null&&!Ze.forceDisallow_}static previouslyFailed(){return ln.isInMemoryStorage||ln.get("previous_websocket_failure")===!0}markConnectionHealthy(){ln.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=si(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=cp(n,l0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(u0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ze.responsesRequiredToBeHealthy=2;Ze.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{static get ALL_TRANSPORTS(){return[zn,Ze]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ze&&Ze.isAvailable();let r=n&&!Ze.previouslyFailed();if(e.webSocketOnly&&(n||Oe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ze];else{const i=this.transports_=[];for(const s of ui.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ui.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ui.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=6e4,c0=5e3,d0=10*1024,f0=100*1024,$o="t",ed="d",h0="s",td="r",p0="e",nd="o",rd="a",id="n",sd="p",m0="h";class g0{constructor(e,n,r,i,s,o,l,u,a,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yi("c:"+this.id+":"),this.transportManager_=new ui(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Br(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>f0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>d0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($o in e){const n=e[$o];n===rd?this.upgradeIfSecondaryHealthy_():n===td?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===nd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sr("t",e),r=Sr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:id,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sr("t",e),r=Sr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sr($o,e);if(ed in e){const r=e[ed];if(n===m0){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===id){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===h0?this.onConnectionShutdown_(r):n===td?this.onReset_(r):n===p0?Kl("Server Error: "+r):n===nd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kl("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ia!==r&&Oe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Br(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(a0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Br(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(c0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ln.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends xp{static getInstance(){return new Ps}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=32,ld=768;class G{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function B(){return new G("")}function A(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qt(t){return t.pieces_.length-t.pieceNum_}function V(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new G(t.pieces_,e)}function Pp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Dp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ap(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new G(e,0)}function re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof G)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new G(n,0)}function M(t){return t.pieceNum_>=t.pieces_.length}function $e(t,e){const n=A(t),r=A(e);if(n===null)return e;if(n===r)return $e(V(t),V(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Op(t,e){if(Qt(t)!==Qt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qt(t)>Qt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class y0{constructor(e,n){this.errorPrefix_=n,this.parts_=Dp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=eo(this.parts_[r]);Mp(this)}}function v0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=eo(e),Mp(t)}function w0(t){const e=t.parts_.pop();t.byteLength_-=eo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Mp(t){if(t.byteLength_>ld)throw new Error(t.errorPrefix_+"has a key path longer than "+ld+" bytes ("+t.byteLength_+").");if(t.parts_.length>od)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+od+") or object contains a cycle "+nn(t))}function nn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends xp{static getInstance(){return new la}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=1e3,S0=60*5*1e3,ud=30*1e3,E0=1.3,C0=3e4,k0="server_kill",ad=3;class _t extends Rp{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=_t.nextPersistentConnectionId_++,this.log_=yi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Er,this.maxReconnectDelay_=S0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Xh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");la.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ps.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(pe(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Zs,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;_t.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(a,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&It(e,"w")){const r=tr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Oe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ud)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=fy(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Kl("Unrecognized action received from server: "+pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>C0&&(this.reconnectDelay_=Er),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*E0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_t.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(c){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:u,sendRequest:a};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new g0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Oe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(k0)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Oe(c),u())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Uc(this.interruptReasons_)&&(this.reconnectDelay_=Er,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ra(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new G(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ad&&(this.reconnectDelay_=ud,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ad&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+op.replace(/\./g,"-")]=1,qh()?e["framework.cordova"]=1:oy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ps.getInstance().currentlyOnline();return Uc(this.interruptReasons_)&&e}}_t.nextPersistentConnectionId_=0;_t.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new L(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new L(nr,e),i=new L(nr,n);return this.compare(r,i)!==0}minPost(){return L.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi;class Lp extends to{static get __EMPTY_NODE(){return Wi}static set __EMPTY_NODE(e){Wi=e}compare(e,n){return ur(e.name,n.name)}isDefinedOn(e){throw lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(gn,Wi)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,Wi)}toString(){return".key"}}const Qn=new Lp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ae{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ae.RED,this.left=i??xe.EMPTY_NODE,this.right=s??xe.EMPTY_NODE}copy(e,n,r,i,s){return new ae(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ae.RED=!0;ae.BLACK=!1;class T0{copy(e,n,r,i,s){return this}insert(e,n,r){return new ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xe{constructor(e,n=xe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ae.BLACK,null,null))}remove(e){return new xe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ae.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ji(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ji(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ji(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ji(this.root_,null,this.comparator_,!0,e)}}xe.EMPTY_NODE=new T0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){return ur(t.name,e.name)}function ua(t,e){return ur(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;function N0(t){ql=t}const Fp=function(t){return typeof t=="number"?"number:"+dp(t):"string:"+t},zp=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&It(e,".sv"),"Priority must be a string or number.")}else S(t===ql||t.isEmpty(),"priority of unexpected type.");S(t===ql||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;class le{static set __childrenNodeConstructor(e){cd=e}static get __childrenNodeConstructor(){return cd}constructor(e,n=le.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new le(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:le.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return M(e)?this:A(e)===".priority"?this.priorityNode_:le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=A(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||Qt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,le.__childrenNodeConstructor.EMPTY_NODE.updateChild(V(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fp(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=dp(this.value_):e+=this.value_,this.lazyHash_=up(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===le.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof le.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=le.VALUE_TYPE_ORDER.indexOf(n),s=le.VALUE_TYPE_ORDER.indexOf(r);return S(i>=0,"Unknown leaf type: "+n),S(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up,Bp;function R0(t){Up=t}function x0(t){Bp=t}class P0 extends to{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ur(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(gn,new le("[PRIORITY-POST]",Bp))}makePost(e,n){const r=Up(e);return new L(n,new le("[PRIORITY-POST]",r))}toString(){return".priority"}}const Se=new P0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=Math.log(2);class A0{constructor(e){const n=s=>parseInt(Math.log(s)/D0,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ds=function(t,e,n,r){t.sort(e);const i=function(u,a){const d=a-u;let c,f;if(d===0)return null;if(d===1)return c=t[u],f=n?n(c):c,new ae(f,c.node,ae.BLACK,null,null);{const g=parseInt(d/2,10)+u,_=i(u,g),w=i(g+1,a);return c=t[g],f=n?n(c):c,new ae(f,c.node,ae.BLACK,_,w)}},s=function(u){let a=null,d=null,c=t.length;const f=function(_,w){const P=c-_,p=c;c-=_;const h=i(P+1,p),m=t[P],y=n?n(m):m;g(new ae(y,m.node,w,null,h))},g=function(_){a?(a.left=_,a=_):(d=_,a=_)};for(let _=0;_<u.count;++_){const w=u.nextBitIsOne(),P=Math.pow(2,u.count-(_+1));w?f(P,ae.BLACK):(f(P,ae.BLACK),f(P,ae.RED))}return d},o=new A0(t.length),l=s(o);return new xe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;const kn={};class mt{static get Default(){return S(kn&&Se,"ChildrenNode.ts has not been loaded"),Vo=Vo||new mt({".priority":kn},{".priority":Se}),Vo}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=tr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xe?n:null}hasIndex(e){return It(this.indexSet_,e.toString())}addIndex(e,n){S(e!==Qn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(L.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ds(r,e.getCompare()):l=kn;const u=e.toString(),a=Object.assign({},this.indexSet_);a[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new mt(d,a)}addToIndexes(e,n){const r=Is(this.indexes_,(i,s)=>{const o=tr(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),i===kn)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(L.Wrap);let a=u.getNext();for(;a;)a.name!==e.name&&l.push(a),a=u.getNext();return l.push(e),Ds(l,o.getCompare())}else return kn;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new L(e.name,l))),u.insert(e,e.node)}});return new mt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Is(this.indexes_,i=>{if(i===kn)return i;{const s=n.get(e.name);return s?i.remove(new L(e.name,s)):i}});return new mt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr;class z{static get EMPTY_NODE(){return Cr||(Cr=new z(new xe(ua),null,mt.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zp(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cr}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Cr:n}}getChild(e){const n=A(e);return n===null?this:this.getImmediateChild(n).getChild(V(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new L(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Cr:this.priorityNode_;return new z(i,o,s)}}updateChild(e,n){const r=A(e);if(r===null)return n;{S(A(e)!==".priority"||Qt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(V(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Se,(o,l)=>{n[o]=l.val(e),r++,s&&z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fp(this.getPriority().val())+":"),this.forEachChild(Se,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":up(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new L(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new L(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new L(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,L.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vi?-1:0}withIndex(e){if(e===Qn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Se),i=n.getIterator(Se);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Qn?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class O0 extends z{constructor(){super(new xe(ua),z.EMPTY_NODE,mt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const vi=new O0;Object.defineProperties(L,{MIN:{value:new L(nr,z.EMPTY_NODE)},MAX:{value:new L(gn,vi)}});Lp.__EMPTY_NODE=z.EMPTY_NODE;le.__childrenNodeConstructor=z;N0(vi);x0(vi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=!0;function he(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new le(n,he(e))}if(!(t instanceof Array)&&M0){const n=[];let r=!1;if(Qe(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=he(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new L(o,u)))}}),n.length===0)return z.EMPTY_NODE;const s=Ds(n,I0,o=>o.name,ua);if(r){const o=Ds(n,Se.getCompare());return new z(s,he(e),new mt({".priority":o},{".priority":Se}))}else return new z(s,he(e),mt.Default)}else{let n=z.EMPTY_NODE;return Qe(t,(r,i)=>{if(It(t,r)&&r.substring(0,1)!=="."){const s=he(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(he(e))}}R0(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends to{constructor(e){super(),this.indexPath_=e,S(!M(e)&&A(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ur(e.name,n.name):s}makePost(e,n){const r=he(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,vi);return new L(gn,e)}toString(){return Dp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends to{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ur(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){const r=he(e);return new L(n,r)}toString(){return".value"}}const z0=new F0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){return{type:"value",snapshotNode:t}}function B0(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function W0(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function dd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function j0(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nr}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const e=new aa;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Se?n="$priority":t.index_===z0?n="$value":t.index_===Qn?n="$key":(S(t.index_ instanceof L0,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Se&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Rp{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yi("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=As.getListenId_(e,r),l={};this.listens_[o]=l;const u=fd(e._queryParams);this.restRequest_(s+".json",u,(a,d)=>{let c=d;if(a===404&&(c=null,a=null),a===null&&this.onDataUpdate_(s,c,!1,r),tr(this.listens_,o)===l){let f;a?a===401?f="permission_denied":f="rest_error:"+a:f="ok",i(f,null)}})}unlisten(e,n){const r=As.getListenId_(e,n);delete this.listens_[r]}get(e){const n=fd(e._queryParams),r=e._path.toString(),i=new Zs;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+py(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=si(l.responseText)}catch{Oe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Oe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return{value:null,children:new Map}}function Wp(t,e,n){if(M(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=A(e);t.children.has(r)||t.children.set(r,Os());const i=t.children.get(r);e=V(e),Wp(i,e,n)}}function Xl(t,e,n){t.value!==null?n(e,t.value):$0(t,(r,i)=>{const s=new G(e.toString()+"/"+r);Xl(i,s,n)})}function $0(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=10*1e3,b0=30*1e3,G0=5*60*1e3;class Q0{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new V0(e);const r=pd+(b0-pd)*Math.random();Br(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qe(e,(i,s)=>{s>0&&It(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Br(this.reportStats_.bind(this),Math.floor(Math.random()*2*G0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ut||(ut={}));function jp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $p(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ut.ACK_USER_WRITE,this.source=jp()}operationForChild(e){if(M(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new G(e));return new Ms(B(),n,this.revert)}}else return S(A(this.path)===e,"operationForChild called for unrelated child."),new Ms(V(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ut.OVERWRITE}operationForChild(e){return M(this.path)?new _n(this.source,B(),this.snap.getImmediateChild(e)):new _n(this.source,V(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ut.MERGE}operationForChild(e){if(M(this.path)){const n=this.children.subtree(new G(e));return n.isEmpty()?null:n.value?new _n(this.source,B(),n.value):new ai(this.source,B(),n)}else return S(A(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ai(this.source,V(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(M(e))return this.isFullyInitialized()&&!this.filtered_;const n=A(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function K0(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(j0(o.childName,o.snapshotNode))}),kr(t,i,"child_removed",e,r,n),kr(t,i,"child_added",e,r,n),kr(t,i,"child_moved",s,r,n),kr(t,i,"child_changed",e,r,n),kr(t,i,"value",e,r,n),i}function kr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>q0(t,l,u)),o.forEach(l=>{const u=Y0(t,l,s);i.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(u,t.query_))})})}function Y0(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function q0(t,e,n){if(e.childName==null||n.childName==null)throw lr("Should only compare child_ events.");const r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e){return{eventCache:t,serverCache:e}}function Wr(t,e,n,r){return Vp(new ca(e,n,r),t.serverCache)}function bp(t,e,n,r){return Vp(t.eventCache,new ca(e,n,r))}function Jl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;const X0=()=>(bo||(bo=new xe(zv)),bo);class ${static fromObject(e){let n=new $(null);return Qe(e,(r,i)=>{n=n.set(new G(r),i)}),n}constructor(e,n=X0()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(M(e))return null;{const r=A(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(V(e),n);return s!=null?{path:re(new G(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(M(e))return this;{const n=A(e),r=this.children.get(n);return r!==null?r.subtree(V(e)):new $(null)}}set(e,n){if(M(e))return new $(n,this.children);{const r=A(e),s=(this.children.get(r)||new $(null)).set(V(e),n),o=this.children.insert(r,s);return new $(this.value,o)}}remove(e){if(M(e))return this.children.isEmpty()?new $(null):new $(null,this.children);{const n=A(e),r=this.children.get(n);if(r){const i=r.remove(V(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new $(null):new $(this.value,s)}else return this}}get(e){if(M(e))return this.value;{const n=A(e),r=this.children.get(n);return r?r.get(V(e)):null}}setTree(e,n){if(M(e))return n;{const r=A(e),s=(this.children.get(r)||new $(null)).setTree(V(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new $(this.value,o)}}fold(e){return this.fold_(B(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,B(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(M(e))return null;{const s=A(e),o=this.children.get(s);return o?o.findOnPath_(V(e),re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,B(),n)}foreachOnPath_(e,n,r){if(M(e))return this;{this.value&&r(n,this.value);const i=A(e),s=this.children.get(i);return s?s.foreachOnPath_(V(e),re(n,i),r):new $(null)}}foreach(e){this.foreach_(B(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.writeTree_=e}static empty(){return new rt(new $(null))}}function jr(t,e,n){if(M(e))return new rt(new $(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$e(i,e);return s=s.updateChild(o,n),new rt(t.writeTree_.set(i,s))}else{const i=new $(n),s=t.writeTree_.setTree(e,i);return new rt(s)}}}function md(t,e,n){let r=t;return Qe(n,(i,s)=>{r=jr(r,re(e,i),s)}),r}function gd(t,e){if(M(e))return rt.empty();{const n=t.writeTree_.setTree(e,new $(null));return new rt(n)}}function Zl(t,e){return Sn(t,e)!=null}function Sn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($e(n.path,e)):null}function _d(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Se,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function Vt(t,e){if(M(e))return t;{const n=Sn(t,e);return n!=null?new rt(new $(n)):new rt(t.writeTree_.subtree(e))}}function eu(t){return t.writeTree_.isEmpty()}function rr(t,e){return Gp(B(),t.writeTree_,e)}function Gp(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Gp(re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(re(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){return Jp(e,t)}function J0(t,e,n,r,i){S(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jr(t.visibleWrites,e,n)),t.lastWriteId=r}function Z0(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function e1(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&t1(l,r.path)?i=!1:et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return n1(t),!0;if(r.snap)t.visibleWrites=gd(t.visibleWrites,r.path);else{const l=r.children;Qe(l,u=>{t.visibleWrites=gd(t.visibleWrites,re(r.path,u))})}return!0}else return!1}function t1(t,e){if(t.snap)return et(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&et(re(t.path,n),e))return!0;return!1}function n1(t){t.visibleWrites=Kp(t.allWrites,r1,B()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function r1(t){return t.visible}function Kp(t,e,n){let r=rt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)et(n,o)?(l=$e(n,o),r=jr(r,l,s.snap)):et(o,n)&&(l=$e(o,n),r=jr(r,B(),s.snap.getChild(l)));else if(s.children){if(et(n,o))l=$e(n,o),r=md(r,l,s.children);else if(et(o,n))if(l=$e(o,n),M(l))r=md(r,B(),s.children);else{const u=tr(s.children,A(l));if(u){const a=u.getChild(V(l));r=jr(r,B(),a)}}}else throw lr("WriteRecord should have .snap or .children")}}return r}function Yp(t,e,n,r,i){if(!r&&!i){const s=Sn(t.visibleWrites,e);if(s!=null)return s;{const o=Vt(t.visibleWrites,e);if(eu(o))return n;if(n==null&&!Zl(o,B()))return null;{const l=n||z.EMPTY_NODE;return rr(o,l)}}}else{const s=Vt(t.visibleWrites,e);if(!i&&eu(s))return n;if(!i&&n==null&&!Zl(s,B()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(et(a.path,e)||et(e,a.path))},l=Kp(t.allWrites,o,e),u=n||z.EMPTY_NODE;return rr(l,u)}}}function i1(t,e,n){let r=z.EMPTY_NODE;const i=Sn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Se,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Vt(t.visibleWrites,e);return n.forEachChild(Se,(o,l)=>{const u=rr(Vt(s,new G(o)),l);r=r.updateImmediateChild(o,u)}),_d(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Vt(t.visibleWrites,e);return _d(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function s1(t,e,n,r,i){S(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=re(e,n);if(Zl(t.visibleWrites,s))return null;{const o=Vt(t.visibleWrites,s);return eu(o)?i.getChild(n):rr(o,i.getChild(n))}}function o1(t,e,n,r){const i=re(e,n),s=Sn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Vt(t.visibleWrites,i);return rr(o,r.getNode().getImmediateChild(n))}else return null}function l1(t,e){return Sn(t.visibleWrites,e)}function u1(t,e,n,r,i,s,o){let l;const u=Vt(t.visibleWrites,e),a=Sn(u,B());if(a!=null)l=a;else if(n!=null)l=rr(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&d.length<i;)c(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function a1(){return{visibleWrites:rt.empty(),allWrites:[],lastWriteId:-1}}function tu(t,e,n,r){return Yp(t.writeTree,t.treePath,e,n,r)}function qp(t,e){return i1(t.writeTree,t.treePath,e)}function yd(t,e,n,r){return s1(t.writeTree,t.treePath,e,n,r)}function Ls(t,e){return l1(t.writeTree,re(t.treePath,e))}function c1(t,e,n,r,i,s){return u1(t.writeTree,t.treePath,e,n,r,i,s)}function da(t,e,n){return o1(t.writeTree,t.treePath,e,n)}function Xp(t,e){return Jp(re(t.treePath,e),t.writeTree)}function Jp(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,dd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,W0(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,B0(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,dd(r,e.snapshotNode,i.oldSnap));else throw lr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Zp=new f1;class fa{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ca(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return da(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yn(this.viewCache_),s=c1(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function h1(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function p1(t,e,n,r,i){const s=new d1;let o,l;if(n.type===ut.OVERWRITE){const a=n;a.source.fromUser?o=nu(t,e,a.path,a.snap,r,i,s):(S(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!M(a.path),o=Fs(t,e,a.path,a.snap,r,i,l,s))}else if(n.type===ut.MERGE){const a=n;a.source.fromUser?o=g1(t,e,a.path,a.children,r,i,s):(S(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=ru(t,e,a.path,a.children,r,i,l,s))}else if(n.type===ut.ACK_USER_WRITE){const a=n;a.revert?o=v1(t,e,a.path,r,i,s):o=_1(t,e,a.path,a.affectedTree,r,i,s)}else if(n.type===ut.LISTEN_COMPLETE)o=y1(t,e,n.path,r,s);else throw lr("Unknown operation type: "+n.type);const u=s.getChanges();return m1(e,o,u),{viewCache:o,changes:u}}function m1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Jl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(U0(Jl(e)))}}function em(t,e,n,r,i,s){const o=e.eventCache;if(Ls(r,n)!=null)return e;{let l,u;if(M(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=yn(e),d=a instanceof z?a:z.EMPTY_NODE,c=qp(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const a=tu(r,yn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),a,s)}else{const a=A(n);if(a===".priority"){S(Qt(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const c=yd(r,n,d,u);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=V(n);let c;if(o.isCompleteForChild(a)){u=e.serverCache.getNode();const f=yd(r,n,o.getNode(),u);f!=null?c=o.getNode().getImmediateChild(a).updateChild(d,f):c=o.getNode().getImmediateChild(a)}else c=da(r,a,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),a,c,d,i,s):l=o.getNode()}}return Wr(e,l,o.isFullyInitialized()||M(n),t.filter.filtersNodes())}}function Fs(t,e,n,r,i,s,o,l){const u=e.serverCache;let a;const d=o?t.filter:t.filter.getIndexedFilter();if(M(n))a=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(n,r);a=d.updateFullNode(u.getNode(),g,null)}else{const g=A(n);if(!u.isCompleteForPath(n)&&Qt(n)>1)return e;const _=V(n),P=u.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?a=d.updatePriority(u.getNode(),P):a=d.updateChild(u.getNode(),g,P,_,Zp,null)}const c=bp(e,a,u.isFullyInitialized()||M(n),d.filtersNodes()),f=new fa(i,c,s);return em(t,c,n,i,f,l)}function nu(t,e,n,r,i,s,o){const l=e.eventCache;let u,a;const d=new fa(i,e,s);if(M(n))a=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Wr(e,a,!0,t.filter.filtersNodes());else{const c=A(n);if(c===".priority")a=t.filter.updatePriority(e.eventCache.getNode(),r),u=Wr(e,a,l.isFullyInitialized(),l.isFiltered());else{const f=V(n),g=l.getNode().getImmediateChild(c);let _;if(M(f))_=r;else{const w=d.getCompleteChild(c);w!=null?Pp(f)===".priority"&&w.getChild(Ap(f)).isEmpty()?_=w:_=w.updateChild(f,r):_=z.EMPTY_NODE}if(g.equals(_))u=e;else{const w=t.filter.updateChild(l.getNode(),c,_,f,d,o);u=Wr(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function vd(t,e){return t.eventCache.isCompleteForChild(e)}function g1(t,e,n,r,i,s,o){let l=e;return r.foreach((u,a)=>{const d=re(n,u);vd(e,A(d))&&(l=nu(t,l,d,a,i,s,o))}),r.foreach((u,a)=>{const d=re(n,u);vd(e,A(d))||(l=nu(t,l,d,a,i,s,o))}),l}function wd(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ru(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,a;M(n)?a=r:a=new $(null).setTree(n,r);const d=e.serverCache.getNode();return a.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const g=e.serverCache.getNode().getImmediateChild(c),_=wd(t,g,f);u=Fs(t,u,new G(c),_,i,s,o,l)}}),a.children.inorderTraversal((c,f)=>{const g=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!g){const _=e.serverCache.getNode().getImmediateChild(c),w=wd(t,_,f);u=Fs(t,u,new G(c),w,i,s,o,l)}}),u}function _1(t,e,n,r,i,s,o){if(Ls(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(M(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Fs(t,e,n,u.getNode().getChild(n),i,s,l,o);if(M(n)){let a=new $(null);return u.getNode().forEachChild(Qn,(d,c)=>{a=a.set(new G(d),c)}),ru(t,e,n,a,i,s,l,o)}else return e}else{let a=new $(null);return r.foreach((d,c)=>{const f=re(n,d);u.isCompleteForPath(f)&&(a=a.set(d,u.getNode().getChild(f)))}),ru(t,e,n,a,i,s,l,o)}}function y1(t,e,n,r,i){const s=e.serverCache,o=bp(e,s.getNode(),s.isFullyInitialized()||M(n),s.isFiltered());return em(t,o,n,r,Zp,i)}function v1(t,e,n,r,i,s){let o;if(Ls(r,n)!=null)return e;{const l=new fa(r,e,i),u=e.eventCache.getNode();let a;if(M(n)||A(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=tu(r,yn(e));else{const c=e.serverCache.getNode();S(c instanceof z,"serverChildren would be complete if leaf node"),d=qp(r,c)}d=d,a=t.filter.updateFullNode(u,d,s)}else{const d=A(n);let c=da(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=u.getImmediateChild(d)),c!=null?a=t.filter.updateChild(u,d,c,V(n),l,s):e.eventCache.getNode().hasChild(d)?a=t.filter.updateChild(u,d,z.EMPTY_NODE,V(n),l,s):a=u,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=tu(r,yn(e)),o.isLeafNode()&&(a=t.filter.updateFullNode(a,o,s)))}return o=e.serverCache.isFullyInitialized()||Ls(r,B())!=null,Wr(e,a,o,t.filter.filtersNodes())}}function w1(t,e){const n=yn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!M(e)&&!n.getImmediateChild(A(e)).isEmpty())?n.getChild(e):null}function Sd(t,e,n,r){e.type===ut.MERGE&&e.source.queryId!==null&&(S(yn(t.viewCache_),"We should always have a full cache before handling merges"),S(Jl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=p1(t.processor_,i,e,n,r);return h1(t.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,S1(t,s.changes,s.viewCache.eventCache.getNode())}function S1(t,e,n,r){const i=t.eventRegistrations_;return K0(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed;function E1(t){S(!Ed,"__referenceConstructor has already been defined"),Ed=t}function ha(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return S(s!=null,"SyncTree gave us an op for an invalid query."),Sd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Sd(o,e,n,r));return s}}function pa(t,e){let n=null;for(const r of t.views.values())n=n||w1(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;function C1(t){S(!Cd,"__referenceConstructor has already been defined"),Cd=t}class kd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $(null),this.pendingWriteTree_=a1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tm(t,e,n,r,i){return J0(t.pendingWriteTree_,e,n,r,i),i?ro(t,new _n(jp(),e,n)):[]}function un(t,e,n=!1){const r=Z0(t.pendingWriteTree_,e);if(e1(t.pendingWriteTree_,e)){let s=new $(null);return r.snap!=null?s=s.set(B(),!0):Qe(r.children,o=>{s=s.set(new G(o),!0)}),ro(t,new Ms(r.path,s,n))}else return[]}function no(t,e,n){return ro(t,new _n(Hp(),e,n))}function k1(t,e,n){const r=$.fromObject(n);return ro(t,new ai(Hp(),e,r))}function T1(t,e,n,r){const i=im(t,r);if(i!=null){const s=sm(i),o=s.path,l=s.queryId,u=$e(o,e),a=new _n($p(l),u,n);return om(t,o,a)}else return[]}function I1(t,e,n,r){const i=im(t,r);if(i){const s=sm(i),o=s.path,l=s.queryId,u=$e(o,e),a=$.fromObject(n),d=new ai($p(l),u,a);return om(t,o,d)}else return[]}function ma(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=$e(o,e),a=pa(l,u);if(a)return a});return Yp(i,e,s,n,!0)}function ro(t,e){return nm(e,t.syncPointTree_,null,Qp(t.pendingWriteTree_,B()))}function nm(t,e,n,r){if(M(t.path))return rm(t,e,n,r);{const i=e.get(B());n==null&&i!=null&&(n=pa(i,B()));let s=[];const o=A(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,d=Xp(r,o);s=s.concat(nm(l,u,a,d))}return i&&(s=s.concat(ha(i,t,r,n))),s}}function rm(t,e,n,r){const i=e.get(B());n==null&&i!=null&&(n=pa(i,B()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=Xp(r,o),d=t.operationForChild(o);d&&(s=s.concat(rm(d,l,u,a)))}),i&&(s=s.concat(ha(i,t,r,n))),s}function im(t,e){return t.tagToQueryMap.get(e)}function sm(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new G(t.substr(0,e))}}function om(t,e,n){const r=t.syncPointTree_.get(e);S(r,"Missing sync point for query tag that we're tracking");const i=Qp(t.pendingWriteTree_,e);return ha(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ga(n)}node(){return this.node_}}class _a{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=re(this.path_,e);return new _a(this.syncTree_,n)}node(){return ma(this.syncTree_,this.path_)}}const N1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Td=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return R1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return x1(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},R1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},x1=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const i=e.node();if(S(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},P1=function(t,e,n,r){return ya(e,new _a(n,t),r)},lm=function(t,e,n){return ya(t,new ga(e),n)};function ya(t,e,n){const r=t.getPriority().val(),i=Td(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Td(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new le(l,he(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new le(i))),o.forEachChild(Se,(l,u)=>{const a=ya(u,e.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function wa(t,e){let n=e instanceof G?e:new G(e),r=t,i=A(n);for(;i!==null;){const s=tr(r.node.children,i)||{children:{},childCount:0};r=new va(i,r,s),n=V(n),i=A(n)}return r}function cr(t){return t.node.value}function um(t,e){t.node.value=e,iu(t)}function am(t){return t.node.childCount>0}function D1(t){return cr(t)===void 0&&!am(t)}function io(t,e){Qe(t.node.children,(n,r)=>{e(new va(n,t,r))})}function cm(t,e,n,r){n&&!r&&e(t),io(t,i=>{cm(i,e,!0,r)}),n&&r&&e(t)}function A1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function wi(t){return new G(t.parent===null?t.name:wi(t.parent)+"/"+t.name)}function iu(t){t.parent!==null&&O1(t.parent,t.name,t)}function O1(t,e,n){const r=D1(n),i=It(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,iu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,iu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=/[\[\].#$\/\u0000-\u001F\u007F]/,L1=/[\[\].#$\u0000-\u001F\u007F]/,Go=10*1024*1024,dm=function(t){return typeof t=="string"&&t.length!==0&&!M1.test(t)},fm=function(t){return typeof t=="string"&&t.length!==0&&!L1.test(t)},F1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fm(t)},z1=function(t,e,n,r){Sa(ta(t,"value"),e,n)},Sa=function(t,e,n){const r=n instanceof G?new y0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+nn(r));if(typeof e=="function")throw new Error(t+"contains a function "+nn(r)+" with contents = "+e.toString());if(ap(e))throw new Error(t+"contains "+e.toString()+" "+nn(r));if(typeof e=="string"&&e.length>Go/3&&eo(e)>Go)throw new Error(t+"contains a string greater than "+Go+" utf8 bytes "+nn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!dm(o)))throw new Error(t+" contains an invalid key ("+o+") "+nn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);v0(r,o),Sa(t,l,r),w0(r)}),i&&s)throw new Error(t+' contains ".value" child '+nn(r)+" in addition to actual children.")}},hm=function(t,e,n,r){if(!fm(n))throw new Error(ta(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},U1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hm(t,e,n)},B1=function(t,e){if(A(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},W1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!F1(n))throw new Error(ta(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Op(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function kt(t,e,n){pm(t,n),H1(t,r=>et(r,e)||et(e,r))}function H1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?($1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ur&&we("event: "+n.toString()),ar(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="repo_interrupt",b1=25;class G1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Os(),this.transactionQueueTree_=new va,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Q1(t,e,n){if(t.stats_=sa(t.repoInfo_),t.forceRestClient_||$v())t.server_=new As(t.repoInfo_,(r,i,s,o)=>{Id(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Nd(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _t(t.repoInfo_,e,(r,i,s,o)=>{Id(t,r,i,s,o)},r=>{Nd(t,r)},r=>{Y1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Kv(t.repoInfo_,()=>new Q0(t.stats_,t.server_)),t.infoData_=new H0,t.infoSyncTree_=new kd({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=no(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Ca(t,"connected",!1),t.serverSyncTree_=new kd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);kt(t.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function K1(t){const n=t.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ea(t){return N1({timestamp:K1(t)})}function Id(t,e,n,r,i){t.dataUpdateCount++;const s=new G(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Is(n,a=>he(a));o=I1(t.serverSyncTree_,s,u,i)}else{const u=he(n);o=T1(t.serverSyncTree_,s,u,i)}else if(r){const u=Is(n,a=>he(a));o=k1(t.serverSyncTree_,s,u)}else{const u=he(n);o=no(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=so(t,s)),kt(t.eventQueue_,l,o)}function Nd(t,e){Ca(t,"connected",e),e===!1&&X1(t)}function Y1(t,e){Qe(e,(n,r)=>{Ca(t,n,r)})}function Ca(t,e,n){const r=new G("/.info/"+e),i=he(n);t.infoData_.updateSnapshot(r,i);const s=no(t.infoSyncTree_,r,i);kt(t.eventQueue_,r,s)}function mm(t){return t.nextWriteId_++}function q1(t,e,n,r,i){ka(t,"set",{path:e.toString(),value:n,priority:r});const s=Ea(t),o=he(n,r),l=ma(t.serverSyncTree_,e),u=lm(o,l,s),a=mm(t),d=tm(t.serverSyncTree_,e,u,a,!0);pm(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||Oe("set at "+e+" failed: "+f);const w=un(t.serverSyncTree_,a,!_);kt(t.eventQueue_,e,w),Z1(t,i,f,g)});const c=wm(t,e);so(t,c),kt(t.eventQueue_,c,[])}function X1(t){ka(t,"onDisconnectEvents");const e=Ea(t),n=Os();Xl(t.onDisconnect_,B(),(i,s)=>{const o=P1(i,s,t.serverSyncTree_,e);Wp(n,i,o)});let r=[];Xl(n,B(),(i,s)=>{r=r.concat(no(t.serverSyncTree_,i,s));const o=wm(t,i);so(t,o)}),t.onDisconnect_=Os(),kt(t.eventQueue_,B(),r)}function J1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(V1)}function ka(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function Z1(t,e,n,r){e&&ar(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function gm(t,e,n){return ma(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Ta(t,e=t.transactionQueueTree_){if(e||oo(t,e),cr(e)){const n=ym(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ew(t,wi(e),n)}else am(e)&&io(e,n=>{Ta(t,n)})}function ew(t,e,n){const r=n.map(a=>a.currentWriteId),i=gm(t,e,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const d=n[a];S(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=$e(e,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,a=>{ka(t,"transaction put response",{path:u.toString(),status:a});let d=[];if(a==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(un(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();oo(t,wa(t.transactionQueueTree_,e)),Ta(t,t.transactionQueueTree_),kt(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)ar(c[f])}else{if(a==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Oe("transaction at "+u.toString()+" failed: "+a);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=a}so(t,e)}},o)}function so(t,e){const n=_m(t,e),r=wi(n),i=ym(t,n);return tw(t,i,r),r}function tw(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],a=$e(n,u.path);let d=!1,c;if(S(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,c=u.abortReason,i=i.concat(un(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=b1)d=!0,c="maxretry",i=i.concat(un(t.serverSyncTree_,u.currentWriteId,!0));else{const f=gm(t,u.path,o);u.currentInputSnapshot=f;const g=e[l].update(f.val());if(g!==void 0){Sa("transaction failed: Data returned ",g,u.path);let _=he(g);typeof g=="object"&&g!=null&&It(g,".priority")||(_=_.updatePriority(f.getPriority()));const P=u.currentWriteId,p=Ea(t),h=lm(_,f,p);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=h,u.currentWriteId=mm(t),o.splice(o.indexOf(P),1),i=i.concat(tm(t.serverSyncTree_,u.path,h,u.currentWriteId,u.applyLocally)),i=i.concat(un(t.serverSyncTree_,P,!0))}else d=!0,c="nodata",i=i.concat(un(t.serverSyncTree_,u.currentWriteId,!0))}kt(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}oo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)ar(r[l]);Ta(t,t.transactionQueueTree_)}function _m(t,e){let n,r=t.transactionQueueTree_;for(n=A(e);n!==null&&cr(r)===void 0;)r=wa(r,n),e=V(e),n=A(e);return r}function ym(t,e){const n=[];return vm(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vm(t,e,n){const r=cr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);io(e,i=>{vm(t,i,n)})}function oo(t,e){const n=cr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,um(e,n.length>0?n:void 0)}io(e,r=>{oo(t,r)})}function wm(t,e){const n=wi(_m(t,e)),r=wa(t.transactionQueueTree_,e);return A1(r,i=>{Qo(t,i)}),Qo(t,r),cm(r,i=>{Qo(t,i)}),n}function Qo(t,e){const n=cr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(un(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?um(e,void 0):n.length=s+1,kt(t.eventQueue_,wi(e),i);for(let o=0;o<r.length;o++)ar(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function rw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Oe(`Invalid query segment '${n}' in query '${t}'`)}return e}const Rd=function(t,e){const n=iw(t),r=n.namespace;n.domain==="firebase.com"&&Ct(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ct("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lv();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new G(n.pathString)}},iw=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=nw(t.substring(d,c)));const f=rw(t.substring(Math.min(t.length,c)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(a+1),10)):a=e.length;const g=e.slice(0,a);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return M(this._path)?null:Pp(this._path)}get ref(){return new En(this._repo,this._path)}get _queryIdentifier(){const e=hd(this._queryParams),n=ra(e);return n==="{}"?"default":n}get _queryObject(){return hd(this._queryParams)}isEqual(e){if(e=gi(e),!(e instanceof Ia))return!1;const n=this._repo===e._repo,r=Op(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_0(this._path)}}class En extends Ia{constructor(e,n){super(e,n,new aa,!1)}get parent(){const e=Ap(this._path);return e===null?null:new En(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function sw(t,e){return t=gi(t),t._checkNotDeleted("ref"),e!==void 0?ow(t._root,e):t._root}function ow(t,e){return t=gi(t),A(t._path)===null?U1("child","path",e):hm("child","path",e),new En(t._repo,re(t._path,e))}function lw(t,e){t=gi(t),B1("set",t._path),z1("set",e,t._path);const n=new Zs;return q1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}E1(En);C1(En);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FIREBASE_DATABASE_EMULATOR_HOST",su={};let aw=!1;function cw(t,e,n,r){t.repoInfo_=new Sp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function dw(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ct("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Rd(s,i),l=o.repoInfo,u;typeof process<"u"&&Kc&&(u=Kc[uw]),u?(s=`http://${u}?ns=${l.namespace}`,o=Rd(s,i),l=o.repoInfo):o.repoInfo.secure;const a=new bv(t.name,t.options,e);W1("Invalid Firebase Database URL",o),M(o.path)||Ct("Database URL must point to the root of a Firebase Database (not including a child path).");const d=hw(l,t,a,new Vv(t.name,n));return new pw(d,t)}function fw(t,e){const n=su[e];(!n||n[t.key]!==t)&&Ct(`Database ${e}(${t.repoInfo_}) has already been deleted.`),J1(t),delete n[t.key]}function hw(t,e,n,r){let i=su[e.name];i||(i={},su[e.name]=i);let s=i[t.toURLString()];return s&&Ct("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new G1(t,aw,n,r),i[t.toURLString()]=s,s}class pw{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Q1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new En(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ct("Cannot call "+e+" on a deleted database.")}}function mw(t=_v(),e){const n=hv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ry("database");r&&gw(n,...r)}return n}function gw(t,e,n,r={}){t=gi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ct("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ct('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new es(es.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:iy(r.mockUserToken,t.app.options.projectId);s=new es(o)}cw(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){xv(gv),Rs(new oi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return dw(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),bn(Yc,qc,t),bn(Yc,qc,"esm2017")}_t.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_t.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};_w();const yw={apiKey:"AIzaSyD4PokJ5iAVJq79xjTYPVP8JeH_29hR7Cg",authDomain:"react-web-c4127.firebaseapp.com",databaseURL:"https://react-web-c4127-default-rtdb.firebaseio.com",projectId:"react-web-c4127",storageBucket:"react-web-c4127.appspot.com",messagingSenderId:"854458855058",appId:"1:854458855058:web:c138db0ade480bf715404b",measurementId:"G-5Z6N7JPPLW"},vw=rp(yw),ww=mw(vw),de=[];for(let t=0;t<256;++t)de.push((t+256).toString(16).slice(1));function Sw(t,e=0){return(de[t[e+0]]+de[t[e+1]]+de[t[e+2]]+de[t[e+3]]+"-"+de[t[e+4]]+de[t[e+5]]+"-"+de[t[e+6]]+de[t[e+7]]+"-"+de[t[e+8]]+de[t[e+9]]+"-"+de[t[e+10]]+de[t[e+11]]+de[t[e+12]]+de[t[e+13]]+de[t[e+14]]+de[t[e+15]]).toLowerCase()}let Ko;const Ew=new Uint8Array(16);function Cw(){if(!Ko){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ko=crypto.getRandomValues.bind(crypto)}return Ko(Ew)}const kw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xd={randomUUID:kw};function Tw(t,e,n){if(xd.randomUUID&&!e&&!t)return xd.randomUUID();t=t||{};const r=t.random||(t.rng||Cw)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Sw(r)}const Iw=()=>{const[t,e]=Un.useState(null),[n,r]=Un.useState("");Un.useEffect(()=>{i()},[]);const i=()=>{try{const l={id:Tw(),estado_puerta:"Cerrado",estado_sensores:"Activado",estado_movimiento:"Detectado",fecha_hora:new Date().toLocaleString()};e(l)}catch(l){r("Error al cargar datos."),console.log(l)}},s=l=>{const u=sw(ww,`smartHome/${l.id}`);console.log("Guardando datos en Firebase:",l),lw(u,l).then(a=>{console.log("Datos guardados en Firebase:",a)})},o=l=>(s(t),{Abierta:"badge-warning",Cerrada:"badge-success",Activados:"badge-success",Desactivados:"badge-error",Detectado:"badge-warning","Sin movimiento":"badge-neutral"}[l]||"badge-neutral");return n?oe.jsx("div",{className:"error",children:oe.jsx("p",{children:n})}):oe.jsx("div",{className:"dashboard-container",children:oe.jsxs("div",{className:"estado-tabla",children:[oe.jsx("h2",{style:{textAlign:"center"},children:"Estado del Sistema"}),oe.jsxs("table",{children:[oe.jsx("thead",{children:oe.jsxs("tr",{children:[oe.jsx("th",{children:"Campo"}),oe.jsx("th",{children:"Estado"})]})}),oe.jsx("tbody",{children:t&&Object.keys(t).map(l=>l!=="id"&&l!=="fecha_hora"&&oe.jsxs("tr",{children:[oe.jsx("td",{children:l.replace("estado_","").replace("_"," ").toUpperCase()}),oe.jsx("td",{children:oe.jsx("span",{className:`badge ${o(t[l])}`,children:t[l]})})]},l))})]})]})})};function Nw(){return oe.jsx(Iw,{})}$h(document.getElementById("root")).render(oe.jsx(Un.StrictMode,{children:oe.jsx(Nw,{})}));
